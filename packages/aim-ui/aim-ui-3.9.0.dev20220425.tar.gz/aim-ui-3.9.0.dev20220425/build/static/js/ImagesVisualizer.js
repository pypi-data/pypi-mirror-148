(this.webpackJsonpui_v2=this.webpackJsonpui_v2||[]).push([[9],{1280:function(e,t,n){},1330:function(e,t,n){"use strict";n.r(t);var a=n(44),i=n.n(a),o=n(10),c=n(239),r=n(6),s=n(472),l=n(0),d=n.n(l),u=n(512),h=n(624),j=n(138),v=n(9),m=n(477),p=n(244),f=n(487),b=n(644),g=n(476),x=n(622),O=(n(1280),n(1));function _(e){var t,n,a,l=e.data,_=e.isLoading,y=d.a.useRef(null),C=d.a.useState({active:!1,key:null}),w=Object(r.a)(C,2),S=w[0],N=w[1],P=d.a.useState(null===y||void 0===y||null===(t=y.current)||void 0===t?void 0:t.offsetHeight),T=Object(r.a)(P,2),k=T[0],I=T[1],A=d.a.useState(null===y||void 0===y||null===(n=y.current)||void 0===n?void 0:n.offsetWidth),z=Object(r.a)(A,2),D=z[0],E=z[1];Object(p.a)((function(){var e;return E(null===y||void 0===y||null===(e=y.current)||void 0===e?void 0:e.offsetWidth)}),y),d.a.useEffect((function(){f.a.init()}),[]),d.a.useEffect((function(){var e;I(null===y||void 0===y||null===(e=y.current)||void 0===e?void 0:e.offsetHeight)}),[null===y||void 0===y||null===(a=y.current)||void 0===a?void 0:a.offsetHeight]);var H=d.a.useCallback((function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];N({key:e.key,active:t})}),[]),M=d.a.useMemo((function(){return{alignmentType:m.b.Height,mediaItemSize:25,imageRendering:m.a.Pixelated}}),[]),R=d.a.useMemo((function(){return{step:{group:"record",label:"record.step",value:"step",readonly:!1,order:"desc"}}}),[]);return Object(O.jsx)(v.a,{children:Object(O.jsx)(j.a,{className:"VisualizationLoader",isLoading:!!e.isLoading,children:Object(O.jsx)("div",{className:"ImagesVisualizer",ref:y,children:Object(O.jsx)(h.a,{mediaType:u.a.IMAGE,getBlobsData:function(e){var t=b.a.getImagesByURIs(e);return{abort:t.abort,call:function(){return t.call().then(function(){var e=Object(c.a)(i.a.mark((function e(t){var n,a,c,l,d,u,h,j,v,m,p,b,O,_,y;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Object(g.a)(t),a=Object(g.c)(n),c=Object(g.b)(a),l=Object(g.d)(c,1),d=!0,u=!1,e.prev=6,j=Object(s.a)(l);case 8:return e.next=10,j.next();case 10:return v=e.sent,d=v.done,e.next=14,v.value;case 14:if(m=e.sent,d){e.next=22;break}p=m,b=Object(r.a)(p,2),O=b[0],_=b[1],y=O[0],f.a.emit(y,Object(o.a)({},y,Object(x.a)(_)));case 19:d=!0,e.next=8;break;case 22:e.next=28;break;case 24:e.prev=24,e.t0=e.catch(6),u=!0,h=e.t0;case 28:if(e.prev=28,e.prev=29,d||null==j.return){e.next=33;break}return e.next=33,j.return();case 33:if(e.prev=33,!u){e.next=36;break}throw h;case 36:return e.finish(33);case 37:return e.finish(28);case 38:case"end":return e.stop()}}),e,null,[[6,24,28,38],[29,,33,37]])})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){"AbortError"===e.name||console.log("Unhandled error: ")}))}}},data:null===l||void 0===l?void 0:l.imageSetData,orderedMap:null===l||void 0===l?void 0:l.orderedMap,isLoading:!l||_,panelResizing:!1,tableHeight:"0",wrapperOffsetHeight:k||0,wrapperOffsetWidth:D||0,sortFieldsDict:R,focusedState:S,additionalProperties:M,onActivePointChange:H,illustrationConfig:{title:"No Tracked Images"}})})})})}_.displayName="ImagesVisualizer";var y=Object(l.memo)(_);t.default=y},497:function(e,t,n){"use strict";var a=n(6),i=n(0),o=n.n(i),c=n(169),r=n(99),s=n(258),l=n(455),d=n(783),u=n(4),h=n(29),j=n(1329),v=n(451),m=n(90),p=n(9),f=n(81),b=(n(516),n(1));function g(e){var t=e.tags,n=e.attachedTags,a=e.onSelectTag,i=o.a.useCallback((function(e){var t;(null===(t=e.currentTarget)||void 0===t?void 0:t.id)&&(null===a||void 0===a||a(e.currentTarget.id))}),[a]);return Object(b.jsx)(p.a,{children:Object(b.jsxs)("div",{className:"SelectTag",children:[(null===t||void 0===t?void 0:t.length)>0?Object(b.jsx)("div",{className:"SelectTag__tags",children:t.map((function(e){var t=n.find((function(t){return t.id===e.id}));return Object(b.jsx)("div",{className:"SelectTag__tags__badge ".concat(t?"outlined":""),children:Object(b.jsx)(u.c,{color:e.color,label:e.name,id:e.id,startIcon:t&&"check",onClick:i})},e.id)}))}):null,Object(b.jsx)(l.a,{}),Object(b.jsx)("div",{className:"SelectTag__createTag__container",children:Object(b.jsx)(d.a,{to:f.a.Tags,component:c.b,underline:"none",children:Object(b.jsx)(u.d,{size:"small",variant:"contained",color:"primary",className:"SelectTag__createTag",children:"Create Tag"})})})]})})}var x=o.a.memo(g),O=n(474),_=n(502);n(517);function y(e){var t=e.runHash,n=o.a.useState([]),i=Object(a.a)(n,2),c=i[0],r=i[1],s=o.a.useState([]),l=Object(a.a)(s,2),d=l[0],f=l[1],g=o.a.useRef(null),y=o.a.useRef(null),C=o.a.useRef(null),w=o.a.useRef(null);function S(e){var n,a,i=c.find((function(t){return t.name===e}));i&&(n=t,a=i.id,w.current=null===O.a||void 0===O.a?void 0:O.a.deleteRunsTag(n,a),w.current.call().then((function(){f((function(e){return Object(h.a)(e.filter((function(e){return e.id!==a})))}))})))}return o.a.useEffect((function(){return t&&(y.current=null===_.a||void 0===_.a?void 0:_.a.getTags(),y.current.call().then((function(e){r(e||[])})),function(e){g.current=null===O.a||void 0===O.a?void 0:O.a.getRunInfo(e),g.current.call().then((function(e){var t;f((null===e||void 0===e||null===(t=e.props)||void 0===t?void 0:t.tags)||[])}))}(t)),function(){var e,t;null===(e=g.current)||void 0===e||e.abort(),null===(t=y.current)||void 0===t||t.abort()}}),[t]),Object(b.jsx)(p.a,{children:Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{className:"AttachedTagsList__title",children:"Tag"}),Object(b.jsxs)(j.a,{className:"AttachedTagsList",children:[(null===d||void 0===d?void 0:d.length)>0?Object(b.jsx)("div",{className:"AttachedTagsList__tags",children:d.map((function(e){return Object(b.jsx)(u.c,{color:e.color,label:e.name,id:e.id,onDelete:S},e.id)}))}):Object(b.jsx)("div",{className:"AttachedTagsList__noAttachedTags",children:"No attached tag"}),Object(b.jsx)(m.a,{title:"Select Tag",titleClassName:"AttachedTagsList__ControlPopover__title",anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"left"},anchor:function(e){var t=e.onAnchorClick,n=e.opened;return Object(b.jsx)(v.a,{title:"".concat((null===d||void 0===d?void 0:d.length)>0?"Select":"Attach"," Tag"),children:Object(b.jsx)("div",{onClick:t,className:"AttachedTagsList__ControlPopover__anchor ".concat(n?"active":""),children:(null===d||void 0===d?void 0:d.length)>0?Object(b.jsx)(u.g,{name:"edit"}):Object(b.jsxs)(u.d,{size:"small",color:"primary",variant:"outlined",className:"AttachedTagsList__ControlPopover__attach",children:[Object(b.jsx)(u.g,{name:"plus"}),Object(b.jsx)("span",{children:"Attach"})]})})})},component:Object(b.jsx)(x,{tags:c,attachedTags:d,onSelectTag:function(e){if(!d.find((function(t){return t.id===e}))){var n=c.find((function(t){return t.id===e}));n&&function(e,t){C.current=null===O.a||void 0===O.a?void 0:O.a.createRunsTag({tag_name:e.name},t),C.current.call().then((function(){f((function(t){return[].concat(Object(h.a)(t),[e])}))}))}(n,t)}}})})]})]})})}var C=o.a.memo(y),w=n(465),S=n(170),N=n(50),P=n(223),T=n(106),k=n(107),I=(n(518),o.a.forwardRef((function(e,t){var n=e.tooltipContent,i=e.focusedState,h=e.chartType,j=e.alignmentConfig,v=n||{},m=v.params,g=void 0===m?{}:m,x=v.groupConfig,O=void 0===x?{}:x,_=v.runHash,y=void 0===_?"":_,I=v.name,A=void 0===I?"":I,z=v.context,D=void 0===z?{}:z,E=v.mediaContent,H=void 0===E?{}:E;return Object(b.jsx)(p.a,{children:Object(b.jsx)(s.a,{ref:t,className:"PopoverContent__container",style:{pointerEvents:(null===i||void 0===i?void 0:i.active)?"auto":"none"},children:Object(b.jsxs)("div",{className:"PopoverContent",children:[function(){switch(h){case N.c.LineChart:var e,t;return Object(b.jsx)(p.a,{children:Object(b.jsxs)("div",{className:"PopoverContent__box",children:[Object(b.jsxs)("div",{className:"PopoverContent__valueContainer",children:[Object(b.jsx)(u.m,{children:"Y: "}),Object(b.jsxs)("span",{className:"PopoverContent__headerValue",children:[Object(b.jsx)(u.m,{weight:400,children:Object(T.a)(A)?Object(k.a)(A):A}),Object(b.jsx)(u.m,{className:"PopoverContent__contextValue",children:Object(w.a)(D)}),Object(b.jsx)(u.m,{component:"p",className:"PopoverContent__axisValue",children:null!==(e=null===i||void 0===i?void 0:i.yValue)&&void 0!==e?e:"--"})]})]}),Object(b.jsxs)("div",{className:"PopoverContent__valueContainer",children:[Object(b.jsx)(u.m,{children:"X: "}),Object(b.jsxs)("span",{className:"PopoverContent__headerValue",children:[Object(b.jsx)(u.m,{weight:400,children:Object(S.b)(j)}),(null===j||void 0===j?void 0:j.type)===N.b.CUSTOM_METRIC&&Object(b.jsx)(u.m,{className:"PopoverContent__contextValue",children:Object(w.a)(D)}),Object(b.jsx)(u.m,{component:"p",className:"PopoverContent__axisValue",children:Object(S.a)({xAxisTickValue:null!==(t=null===i||void 0===i?void 0:i.xValue)&&void 0!==t?t:null,type:null===j||void 0===j?void 0:j.type})})]})]})]})});case N.c.HighPlot:var n,o,c=null===(n=(null===i||void 0===i?void 0:i.xValue)||"")||void 0===n?void 0:n.split("-"),r=Object(a.a)(c,2),s=r[0],l=r[1];return Object(b.jsx)(p.a,{children:Object(b.jsxs)("div",{className:"PopoverContent__box",children:[Object(b.jsxs)("div",{className:"PopoverContent__value",children:[Object(b.jsx)("strong",{children:Object(T.a)(s)?Object(k.a)(s):null!==s&&void 0!==s?s:"--"})," ",l||null]}),Object(b.jsxs)("div",{className:"PopoverContent__value",children:["Value: ",null!==(o=null===i||void 0===i?void 0:i.yValue)&&void 0!==o?o:"--"]})]})});case N.c.ImageSet:var d=H.step,v=void 0===d?"":d,m=H.index,f=void 0===m?"":m,g=H.caption,x=void 0===g?"":g,O=H.images_name,_=void 0===O?"":O;return Object(b.jsx)(p.a,{children:Object(b.jsxs)("div",{className:"PopoverContent__box PopoverContent__imageSetBox",children:[Object(b.jsx)("strong",{children:x}),Object(b.jsxs)("div",{className:"PopoverContent__value",children:[Object(b.jsx)("strong",{children:_}),Object(b.jsx)(u.m,{className:"PopoverContent__contextValue",children:Object(w.a)(D)})]}),Object(b.jsxs)("div",{className:"PopoverContent__value",children:["Step: ",Object(b.jsx)("strong",{children:v}),Object(b.jsxs)(u.m,{className:"PopoverContent__contextValue",children:["Index: ",Object(b.jsx)("strong",{children:f})]})]})]})});case N.c.ScatterPlot:var y,C;return Object(b.jsx)(p.a,{children:Object(b.jsxs)("div",{className:"PopoverContent__box",children:[Object(b.jsxs)("div",{className:"PopoverContent__valueContainer",children:[Object(b.jsx)(u.m,{children:"Y: "}),Object(b.jsx)("span",{className:"PopoverContent__headerValue",children:Object(b.jsx)(u.m,{component:"p",className:"PopoverContent__axisValue",children:null!==(y=null===i||void 0===i?void 0:i.yValue)&&void 0!==y?y:"--"})})]}),Object(b.jsxs)("div",{className:"PopoverContent__valueContainer",children:[Object(b.jsx)(u.m,{children:"X: "}),Object(b.jsx)("span",{className:"PopoverContent__headerValue",children:Object(b.jsx)(u.m,{component:"p",className:"PopoverContent__axisValue",children:null!==(C=null===i||void 0===i?void 0:i.xValue)&&void 0!==C?C:"--"})})]})]})});default:return null}}(),r.a.isEmpty(O)?null:Object(b.jsx)(p.a,{children:Object(b.jsxs)("div",{children:[Object(b.jsx)(l.a,{}),Object(b.jsxs)("div",{className:"PopoverContent__box",children:[Object(b.jsx)("div",{className:"PopoverContent__subtitle1",children:"Group Config"}),Object.keys(O).map((function(e){return r.a.isEmpty(O[e])?null:Object(b.jsxs)(o.a.Fragment,{children:[Object(b.jsx)("div",{className:"PopoverContent__subtitle2",children:e}),Object.keys(O[e]).map((function(t){var n=Object(T.a)(O[e][t])?Object(k.a)(O[e][t]):O[e][t];return Object(b.jsxs)("div",{className:"PopoverContent__value",children:[Object(b.jsx)(u.m,{size:12,tint:50,children:"".concat(t,": ")}),Object(b.jsx)(u.m,{size:12,children:Object(P.a)(n)})]},t)}))]},e)}))]})]})}),r.a.isEmpty(g)?null:Object(b.jsx)(p.a,{children:Object(b.jsxs)("div",{children:[Object(b.jsx)(l.a,{}),Object(b.jsxs)("div",{className:"PopoverContent__box",children:[Object(b.jsx)("div",{className:"PopoverContent__subtitle1",children:"Params"}),Object.keys(g).map((function(e){return Object(b.jsxs)("div",{className:"PopoverContent__value",children:[Object(b.jsx)(u.m,{size:12,tint:50,children:"run.".concat(e,": ")}),Object(b.jsx)(u.m,{size:12,children:Object(P.a)(g[e])})]},e)}))]})]})}),(null===i||void 0===i?void 0:i.active)&&y?Object(b.jsxs)(p.a,{children:[Object(b.jsxs)("div",{children:[Object(b.jsx)(l.a,{}),Object(b.jsx)("div",{className:"PopoverContent__box",children:Object(b.jsxs)(d.a,{to:f.a.Run_Detail.replace(":runHash",y),component:c.b,className:"PopoverContent__runDetails",underline:"none",children:[Object(b.jsx)(u.g,{name:"link"}),Object(b.jsx)("div",{children:"Run Details"})]})})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)(l.a,{}),Object(b.jsx)("div",{className:"PopoverContent__box",children:Object(b.jsx)(p.a,{children:Object(b.jsx)(C,{runHash:y})})})]})]}):null]})})})})));t.a=o.a.memo(I)},502:function(e,t,n){"use strict";var a=n(176),i={GET_TAGS:"tags",GET_TAG:"tags/",CREATE_TAG:"tags",UPDATE_TAG:"tags/",GET_TAG_RUNS:function(e){return"tags/".concat(e,"/runs")}};var o={endpoints:i,getTags:function(){return a.a.get(i.GET_TAGS)},createTag:function(e){return a.a.post(i.GET_TAGS,e,{headers:{"Content-Type":"application/json"}})},updateTag:function(e,t){return a.a.put(i.UPDATE_TAG+t,e,{headers:{"Content-Type":"application/json"}})},getTagById:function(e){return a.a.get(i.GET_TAG+e)},getTagRuns:function(e){return a.a.get(i.GET_TAG_RUNS(e))},hideTag:function(e,t){return a.a.put(i.GET_TAG+e,{archived:t},{headers:{"Content-Type":"application/json"}})},deleteTag:function(e){return a.a.delete(i.GET_TAG+e,{headers:{"Content-Type":"application/json"}})}};t.a=o},516:function(e,t,n){},517:function(e,t,n){},518:function(e,t,n){},519:function(e,t,n){},520:function(e,t,n){"use strict";var a=n(29),i=(n(0),n(31)),o=n(9),c=(n(521),n(1));t.a=function(e){var t=e.controlsCount,n=void 0===t?3:t;return Object(c.jsx)(o.a,{children:Object(c.jsxs)("div",{className:"ChartLoader",children:[Object(c.jsx)("div",{className:"ChartLoader__chart",children:Object(c.jsx)("span",{children:"Loading..."})}),n?Object(c.jsx)("div",{className:"ChartLoader__controls",children:Object(a.a)(Array(n)).map((function(e,t){return Object(c.jsx)(i.a,{variant:"rect",style:{minHeight:35,height:35,width:35,minWidth:35},animation:"wave"},t)}))}):null]})})}},521:function(e,t,n){},525:function(e,t,n){"use strict";var a=n(6),i=n(0),o=n.n(i),c=n(390),r=n(497),s=n(9);var l=function(e,t,n){if(!n||!t)return{top:e.top,left:e.left};var a=10;return{left:e.left<n.left?e.right+a:e.right+t.width>n.right?e.left-t.width-a:e.right+a,top:e.top<n.top?n.top+a:e.top+t.height>n.bottom?n.bottom-t.height-a:e.top+a}},d=(n(519),n(1));function u(e){var t,n=e.id,i=void 0===n?"popover":n,u=e.open,h=void 0!==u&&u,j=e.className,v=void 0===j?"":j,m=e.containerNode,p=void 0===m?document.body:m,f=o.a.useState(null),b=Object(a.a)(f,2),g=b[0],x=b[1],O=o.a.useState(),_=Object(a.a)(O,2),y=_[0],C=_[1],w=o.a.useCallback((function(e){if(null===e)x(null);else if(y&&p){var t=l(e,y.getBoundingClientRect(),p.getBoundingClientRect());x(t)}}),[p,y]);return o.a.useEffect((function(){h&&e.activePointRect&&w(e.activePointRect)}),[h,p,y,e.activePointRect,e.tooltipContent,e.focusedState.key,e.focusedState.active,w]),Object(d.jsx)(s.a,{children:Object(d.jsx)(c.a,{id:i,open:!!e.activePointRect&&h,disableEnforceFocus:!0,disableAutoFocus:!0,disableRestoreFocus:!0,anchorReference:"anchorPosition",anchorPosition:g||e.activePointRect||void 0,className:"ChartPopover ".concat(v),transitionDuration:{appear:0,enter:50,exit:100},TransitionProps:{onEnter:function(e){C(e)}},classes:{paper:"ChartPopover__content ".concat((null===(t=e.focusedState)||void 0===t?void 0:t.active)?"ChartPopover__content__active":"")},children:Object(d.jsx)(s.a,{children:Object(d.jsx)(r.a,{chartType:e.chartType,tooltipContent:e.tooltipContent,focusedState:e.focusedState,alignmentConfig:e.alignmentConfig})})},"popover-".concat(e.reCreatePopover))})}t.a=o.a.memo(u)},566:function(e,t,n){"use strict";var a=n(5),i=n(2),o=n(0),c=(n(15),n(8)),r=n(13),s=[0,1,2,3,4,5,6,7,8,9,10],l=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12];function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=parseFloat(e);return"".concat(n/t).concat(String(e).replace(String(n),"")||"px")}var u=o.forwardRef((function(e,t){var n=e.alignContent,r=void 0===n?"stretch":n,s=e.alignItems,l=void 0===s?"stretch":s,d=e.classes,u=e.className,h=e.component,j=void 0===h?"div":h,v=e.container,m=void 0!==v&&v,p=e.direction,f=void 0===p?"row":p,b=e.item,g=void 0!==b&&b,x=e.justify,O=e.justifyContent,_=void 0===O?"flex-start":O,y=e.lg,C=void 0!==y&&y,w=e.md,S=void 0!==w&&w,N=e.sm,P=void 0!==N&&N,T=e.spacing,k=void 0===T?0:T,I=e.wrap,A=void 0===I?"wrap":I,z=e.xl,D=void 0!==z&&z,E=e.xs,H=void 0!==E&&E,M=e.zeroMinWidth,R=void 0!==M&&M,L=Object(a.a)(e,["alignContent","alignItems","classes","className","component","container","direction","item","justify","justifyContent","lg","md","sm","spacing","wrap","xl","xs","zeroMinWidth"]),V=Object(c.a)(d.root,u,m&&[d.container,0!==k&&d["spacing-xs-".concat(String(k))]],g&&d.item,R&&d.zeroMinWidth,"row"!==f&&d["direction-xs-".concat(String(f))],"wrap"!==A&&d["wrap-xs-".concat(String(A))],"stretch"!==l&&d["align-items-xs-".concat(String(l))],"stretch"!==r&&d["align-content-xs-".concat(String(r))],"flex-start"!==(x||_)&&d["justify-content-xs-".concat(String(x||_))],!1!==H&&d["grid-xs-".concat(String(H))],!1!==P&&d["grid-sm-".concat(String(P))],!1!==S&&d["grid-md-".concat(String(S))],!1!==C&&d["grid-lg-".concat(String(C))],!1!==D&&d["grid-xl-".concat(String(D))]);return o.createElement(j,Object(i.a)({className:V,ref:t},L))})),h=Object(r.a)((function(e){return Object(i.a)({root:{},container:{boxSizing:"border-box",display:"flex",flexWrap:"wrap",width:"100%"},item:{boxSizing:"border-box",margin:"0"},zeroMinWidth:{minWidth:0},"direction-xs-column":{flexDirection:"column"},"direction-xs-column-reverse":{flexDirection:"column-reverse"},"direction-xs-row-reverse":{flexDirection:"row-reverse"},"wrap-xs-nowrap":{flexWrap:"nowrap"},"wrap-xs-wrap-reverse":{flexWrap:"wrap-reverse"},"align-items-xs-center":{alignItems:"center"},"align-items-xs-flex-start":{alignItems:"flex-start"},"align-items-xs-flex-end":{alignItems:"flex-end"},"align-items-xs-baseline":{alignItems:"baseline"},"align-content-xs-center":{alignContent:"center"},"align-content-xs-flex-start":{alignContent:"flex-start"},"align-content-xs-flex-end":{alignContent:"flex-end"},"align-content-xs-space-between":{alignContent:"space-between"},"align-content-xs-space-around":{alignContent:"space-around"},"justify-content-xs-center":{justifyContent:"center"},"justify-content-xs-flex-end":{justifyContent:"flex-end"},"justify-content-xs-space-between":{justifyContent:"space-between"},"justify-content-xs-space-around":{justifyContent:"space-around"},"justify-content-xs-space-evenly":{justifyContent:"space-evenly"}},function(e,t){var n={};return s.forEach((function(a){var i=e.spacing(a);0!==i&&(n["spacing-".concat(t,"-").concat(a)]={margin:"-".concat(d(i,2)),width:"calc(100% + ".concat(d(i),")"),"& > $item":{padding:d(i,2)}})})),n}(e,"xs"),e.breakpoints.keys.reduce((function(t,n){return function(e,t,n){var a={};l.forEach((function(e){var t="grid-".concat(n,"-").concat(e);if(!0!==e)if("auto"!==e){var i="".concat(Math.round(e/12*1e8)/1e6,"%");a[t]={flexBasis:i,flexGrow:0,maxWidth:i}}else a[t]={flexBasis:"auto",flexGrow:0,maxWidth:"none"};else a[t]={flexBasis:0,flexGrow:1,maxWidth:"100%"}})),"xs"===n?Object(i.a)(e,a):e[t.breakpoints.up(n)]=a}(t,e,n),t}),{}))}),{name:"MuiGrid"})(u);t.a=h},616:function(e,t,n){},617:function(e,t,n){},618:function(e,t,n){},619:function(e,t,n){},620:function(e,t,n){},621:function(e,t,n){},624:function(e,t,n){"use strict";var a=n(6),i=n(0),o=n.n(i),c=n(289),r=n(7),s=n(3),l=n(29),d=n(10),u=n(99),h=n(228),j=n(14),v=n.n(j),m=n(451),p=n(512),f=n(100),b=n.n(f),g=n(643),x=n.n(g),O=n(391),_=n(4),y=n(9),C=n(470),w=n(487),S=n(465),N=(n(616),n(1));function P(e){var t=e.audio,n=e.isPlaying,i=e.src,c=o.a.useState(0),r=Object(a.a)(c,2),s=r[0],l=r[1],d=o.a.useRef({});function u(){clearInterval(d.current),d.current=setInterval((function(){l(Math.round(t.currentTime))}),300)}function h(e){return e>3600?"HH:mm:ss":"mm:ss"}return o.a.useEffect((function(){return function(){clearInterval(d.current)}}),[]),o.a.useEffect((function(){n&&t?u():clearInterval(d.current)}),[n,i]),Object(N.jsxs)(y.a,{children:[Object(N.jsx)(_.k,{containerClassName:"AudioBox__controllers__progressSlider",onChangeCommitted:function(){t&&(clearInterval(d.current),t.currentTime=s,n&&u())},onChange:function(e,n){t&&(clearInterval(d.current),l(n))},value:s,step:1,max:Math.round(null===t||void 0===t?void 0:t.duration),min:0}),Object(N.jsxs)("div",{className:"AudioBox__controllers__timer ".concat((null===t||void 0===t?void 0:t.duration)>3600?"AudioBox__controllers__timer-long":""),children:[Object(N.jsx)(_.m,{weight:400,size:8,children:t&&b.a.utc(1e3*Math.round(s)).format(h(t.duration||0))||"00:00"}),Object(N.jsxs)(_.m,{weight:400,size:8,children:["/ ",t&&b.a.utc(1e3*Math.round(t.duration||0)).format(h(t.duration||0))||"00:00"]})]})]})}function T(e){var t=e.audio,n=o.a.useState(.99),i=Object(a.a)(n,2),c=i[0],r=i[1];return o.a.useEffect((function(){t&&(t.volume=c)}),[c]),Object(N.jsx)(y.a,{children:Object(N.jsxs)("div",{className:"AudioBox__controllers__volume ".concat(t?"":"AudioBox__controllers__volume-disabled"),children:[Object(N.jsx)(_.d,{onClick:function(){t&&(0===t.volume?r(.99):r(0))},withOnlyIcon:!0,size:"small",className:"AudioBox__controllers__volume--button",children:Object(N.jsx)(_.g,{name:0===c?"voice-off":"voice-on"})}),Object(N.jsx)("div",{className:"AudioBox__controllers__volume__Slider",children:Object(N.jsx)(_.k,{onChange:function(e,n){t&&(t.volume=n,r(n))},value:c,step:.01,defaultValue:1,max:.99,min:0})})]})})}function k(e){var t,n=e.data,i=e.additionalProperties,c=e.style,r=void 0===c?{}:c,s=n.blob_uri,l=o.a.useState(!1),d=Object(a.a)(l,2),u=d[0],h=d[1],j=o.a.useState(null),v=Object(a.a)(j,2),m=v[0],p=v[1],f=o.a.useState(!1),b=Object(a.a)(f,2),g=b[0],k=b[1],I=o.a.useState(""),A=Object(a.a)(I,2),z=A[0],D=A[1],E=o.a.useState(null!==(t=w.a.getState()[s])&&void 0!==t?t:null),H=Object(a.a)(E,2),M=H[0],R=H[1],L=o.a.useState(!0),V=Object(a.a)(L,2),W=V[0],B=V[1];function G(){k(!1)}function F(){h(!1)}function U(){m?h(!u):(k(!0),i.getAudiosBlobsData([s]).call().then((function(e){h(!u)})))}function K(){var e=document.createElement("a"),t=n.index,a=n.format,i=n.context,o=n.step,c=n.caption,r=n.audio_name,s=""===Object(S.a)(i)?"":"_".concat(Object(S.a)(i)),l="".concat(r).concat(s,"_").concat(c,"_").concat(o,"_").concat(t);e.setAttribute("href","data:audio/".concat(a,";base64,").concat(M)),e.setAttribute("download",l),document.body.appendChild(e),e.click(),document.body.removeChild(e)}return o.a.useEffect((function(){var e,t;return g&&null===M&&(w.a.getState()[s]?R(w.a.getState()[s]):(t=w.a.subscribe(s,(function(e){R(e[s]),t.unsubscribe()})),e=window.setTimeout((function(){w.a.getState()[s]&&(R(w.a.getState()[s]),t.unsubscribe())}),C.a))),function(){e&&clearTimeout(e),t&&t.unsubscribe(),m&&m.pause()}}),[g]),o.a.useEffect((function(){if(M){var e=new Audio;e.autoplay=!0,e.muted=!0,e.src="data:audio/".concat(n.format,";base64,").concat(M),D("data:audio/".concat(n.format,";base64,").concat(M)),p(e),B(!1)}}),[M]),o.a.useEffect((function(){u?null===m||void 0===m||m.play().then((function(){B(!1)})):null===m||void 0===m||m.pause()}),[u,m]),o.a.useEffect((function(){return m&&(m.addEventListener("ended",F),m.addEventListener("canplay",G)),function(){m&&(m.pause(),m.removeEventListener("ended",F),m.removeEventListener("canplay",G))}}),[m]),o.a.useEffect((function(){W||(m.muted=!1)}),[W]),Object(N.jsx)(y.a,{children:Object(N.jsxs)("div",{className:"AudioBox",style:r,children:[Object(N.jsxs)("div",{className:"AudioBox__controllers",children:[m?Object(N.jsx)(_.d,{onClick:U,color:"secondary",withOnlyIcon:!0,size:"small",children:Object(N.jsx)(_.g,{name:u?"pause":"play"})}):Object(N.jsxs)("div",{className:"AudioBox__controllers__Player",children:[Object(N.jsx)(x.a,{displaySlider:!1,volume:!1,displayCloseButton:!1,onPlayed:U,width:"24px",src:z}),g?Object(N.jsx)(O.a,{className:"Icon__container",size:12,thickness:4}):Object(N.jsx)(_.g,{name:u?"pause":"play"})]}),Object(N.jsx)(P,{audio:m,isPlaying:u,src:z}),Object(N.jsx)(T,{audio:m}),Object(N.jsx)(_.d,{withOnlyIcon:!0,size:"small",onClick:function(){m?K():(k(!0),i.getAudiosBlobsData([s]).call().then((function(e){K()})))},children:g?Object(N.jsx)(O.a,{className:"Icon__container",size:12,thickness:4}):Object(N.jsx)(_.g,{name:"download"})})]}),Object(N.jsx)(_.m,{title:(null===n||void 0===n?void 0:n.caption)||"",className:"AudioBox__caption",size:8,weight:400,children:(null===n||void 0===n?void 0:n.caption)||""})]})})}k.displayName="AudioBox";var I=o.a.memo(k);function A(e){var t=0,n=0;return e.forEach((function(e){t<e.height&&(t=e.height,n=e.width)})),{maxHeight:t,maxWidth:n}}var z=n(31),D=n(450),E=n(497),H=n(50);n(617);function M(e){var t=e.imageRendering,n=e.imageData,a=e.tooltipContent,i=e.handleClose,o=w.a.getState()[null===n||void 0===n?void 0:n.blob_uri];return Object(N.jsx)(y.a,{children:Object(N.jsxs)("div",{className:"ImageFullViewPopover",children:[Object(N.jsx)("div",{className:"ImageFullViewPopover__imageContainer ImageFullViewPopover__imageContainer--".concat(t),children:Object(N.jsx)("div",{className:"ImageFullViewPopover__imageContainer__imageBox",children:Object(N.jsx)("img",{src:"data:image/".concat(n.format,";base64, ").concat(o),style:{maxWidth:n.width,maxHeight:n.height},alt:n.caption})})}),Object(N.jsxs)("div",{className:"ImageFullViewPopover__detailContainer",children:[Object(N.jsx)("div",{className:"ImageFullViewPopover__detailContainer__closeButtonContainer",children:Object(N.jsx)(_.d,{withOnlyIcon:!0,size:"small",onClick:i,color:"inherit",children:Object(N.jsx)(_.g,{name:"close"})})}),Object(N.jsx)("div",{className:"ImageFullViewPopover__detailContainer__content",children:Object(N.jsx)(y.a,{children:Object(N.jsx)(E.a,{chartType:H.c.ImageSet,tooltipContent:a,focusedState:{active:!0,key:null}})})})]})]})})}M.displayName="ImageFullViewPopover";var R,L=o.a.memo(M),V=n(477),W=n(222),B=n(221),G=function(e){var t,n=e.index,i=e.style,c=e.data,r=e.addUriToList,s=e.mediaItemHeight,l=e.focusedState,d=e.tooltip,u=e.additionalProperties,h=c.format,j=c.blob_uri,m=o.a.useState(!1),p=Object(a.a)(m,2),f=p[0],b=p[1],g=o.a.useState(null!==(t=w.a.getState()[j])&&void 0!==t?t:null),x=Object(a.a)(g,2),O=x[0],S=x[1];o.a.useEffect((function(){var e,t;return null===O&&(w.a.getState()[j]?S(w.a.getState()[j]):(t=w.a.subscribe(j,(function(e){S(e[j]),t.unsubscribe()})),e=window.setTimeout((function(){w.a.getState()[j]?(S(w.a.getState()[j]),t.unsubscribe()):r(j)}),C.a))),function(){e&&clearTimeout(e),t&&t.unsubscribe()}}),[r,O,j]);var P={width:i.width-6,height:(u.alignmentType!==V.b.Height?i.width/(c.width/c.height):s-10)-6,containerWidth:i.width-4,containerHeight:(u.alignmentType!==V.b.Height?i.width/(c.width/c.height):s-10)-4};return Object(N.jsx)(y.a,{children:Object(N.jsxs)("div",{className:"ImageBox",style:i,children:[Object(N.jsx)("div",{className:"ImageBox__image ImageBox__image--".concat(u.imageRendering," ").concat(l.key===c.key?(null===l||void 0===l?void 0:l.active)?" focus":" active":""),"data-key":"".concat(c.key),"data-seqkey":"".concat(c.seqKey),"data-mediasetitem":"mediaSetItem",children:Object(N.jsxs)("div",{className:"ImageBox__imageWrapper",children:[Object(N.jsxs)("div",{className:"ImageBox__imageWrapper-item ".concat(u.alignmentType===V.b.Height?"ImageBox__imageWrapper-item-heightAlign":""),children:[O?Object(N.jsx)("img",{src:"data:image/".concat(h,";base64, ").concat(O),alt:c.caption}):Object(N.jsx)("div",{style:{height:P.containerHeight,width:P.containerWidth},className:"skeletonContainer",children:Object(N.jsx)(z.a,{variant:"rect",height:P.height,width:P.width})}),Object(N.jsx)(_.m,{style:{maxWidth:i.width},size:10,weight:400,children:c.caption})]}),Object(N.jsx)(_.d,{withOnlyIcon:!0,size:"small",className:v()("ImageBox__imageWrapper__zoomIconWrapper",{isHidden:l.key!==c.key}),onClick:function(e){e.stopPropagation(),b(!0),B.b(W.a.images.imagesPanel.openFullSizeMode)},color:"inherit",children:Object(N.jsx)(_.g,{name:"zoom-in",fontSize:14})})]})}),Object(N.jsx)(y.a,{children:Object(N.jsx)(D.a,{onClose:function(){return b(!1)},"aria-labelledby":"customized-dialog-title",className:"MediaPanel__Container__imageFullViewPopup",open:f,children:Object(N.jsx)(L,{imageRendering:null===u||void 0===u?void 0:u.imageRendering,tooltipContent:(null===d||void 0===d?void 0:d.content)||{context:c.context,mediaContent:{step:c.step,index:c.index,caption:c.caption,images_name:c.images_name}},imageData:c,handleClose:function(){return b(!1)}})})})]})},n)},F=(R={},Object(d.a)(R,p.a.IMAGE,G),Object(d.a)(R,p.a.AUDIO,I),R);var U=function(e){var t=e.data,n=e.wrapperOffsetWidth,a=e.addUriToList,i=e.mediaItemHeight,c=e.focusedState,r=e.additionalProperties,s=e.tooltip,l=e.mediaType,d=e.wrapperOffsetHeight,u=o.a.useCallback((function(e){return l===p.a.AUDIO?C.f[l]().width:C.f[l]({data:t,index:e,additionalProperties:r,wrapperOffsetWidth:n,wrapperOffsetHeight:d}).width}),[r,t,l,d,n]),j=o.a.useMemo((function(){var e=A(t),a=e.maxWidth,o=e.maxHeight,c=r.alignmentType,s=r.mediaItemSize;return l===p.a.IMAGE?C.g[l]({alignmentType:c,maxHeight:o,maxWidth:a,wrapperOffsetWidth:n,mediaItemSize:s,mediaItemHeight:i}):C.g[l](i)}),[r,t,i,l,n]);return Object(N.jsx)(y.a,{children:Object(N.jsx)(h.c,{height:j,itemCount:t.length,itemSize:u,layout:"horizontal",width:n,style:{overflowY:"hidden"},itemData:{data:t,addUriToList:a,mediaItemHeight:j,focusedState:c,additionalProperties:r,tooltip:s,mediaType:l},children:K})})},K=o.a.memo((function(e){var t=e.index,n=e.style,a=e.data,i=F[a.mediaType];return Object(N.jsx)(y.a,{children:Object(N.jsx)(i,{index:t,style:n,data:a.data[t],addUriToList:a.addUriToList,mediaItemHeight:a.mediaItemHeight,focusedState:a.focusedState,additionalProperties:a.additionalProperties,tooltip:a.tooltip},t)})}),h.d),q=U,J=n(90),Y=n(458),X=n(460);n(618);function $(e){var t=e.index,n=e.pathValue,a=e.depth,i=e.onDepthChange,c=o.a.useMemo((function(){return n.map((function(e,t){return{depth:t,label:e}}))}),[n]);return Object(N.jsx)(y.a,{children:Object(N.jsx)(J.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},className:"DepthDropdown",anchor:function(e){var t=e.onAnchorClick,n=e.opened;return Object(N.jsx)(_.d,{onClick:t,className:"DepthDropdown__button",color:n?"primary":"default",size:"small",withOnlyIcon:!0,style:{height:C.j},children:Object(N.jsx)(_.g,{name:n?"arrow-up":"arrow-down"})})},component:Object(N.jsx)(Y.a,{open:!0,size:"small",disablePortal:!0,disableCloseOnSelect:!0,className:"DepthDropdown__autocomplete",options:c,getOptionLabel:function(e){return e.label},getOptionSelected:function(e){return e.depth===a},onChange:function(e,n){null===i||void 0===i||i(n.depth,t)},disableClearable:!0,ListboxProps:{style:{maxHeight:200,maxWidth:241}},classes:{popper:"DepthDropdown__autocomplete__popper"},renderInput:function(e){return Object(N.jsx)(X.a,{ref:e.InputProps.ref,inputProps:e.inputProps,spellCheck:!1,placeholder:"Search",autoFocus:!0,className:"DepthDropdown__autocomplete__select"})},renderOption:function(e){return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(_.m,{className:v()("DepthDropdown__autocomplete__select__optionLabel",{selected:a===e.depth}),weight:500,size:12,children:e.label}),a===e.depth&&Object(N.jsx)(_.g,{fontSize:14,color:"primary",name:"check",className:"DepthDropdown__autocomplete__select__optionIcon"})]})}})})})}$.displayName="DepthDropdown";var Q=o.a.memo($);n(619);function Z(e){var t=e.index,n=e.pathValue,a=e.depth,i=e.onDepthChange,c=o.a.useMemo((function(){return n.map((function(e,t){return{value:t}}))}),[n]);return Object(N.jsx)(y.a,{children:Object(N.jsx)("div",{className:"DepthSlider",style:{height:C.i},children:Object(N.jsx)(_.k,{"aria-labelledby":"track-false-slider",track:!1,valueLabelDisplay:"off",getAriaValueText:function(e){return"".concat(n[e])},value:a,onChange:function(e,n){return null===i||void 0===i?void 0:i(n,t)},step:null,marks:c,min:0,max:n.length-1,prevIconNode:Object(N.jsx)(_.d,{onClick:function(){a>0&&(null===i||void 0===i||i(a-1,t))},className:"prevIconBtn",disabled:a<=0,size:"small",withOnlyIcon:!0,children:Object(N.jsx)(_.g,{name:"arrow-left",fontSize:10})}),nextIconNode:Object(N.jsx)(_.d,{onClick:function(){a<n.length-1&&(null===i||void 0===i||i(a+1,t))},className:"nextIconBtn",disabled:a>=n.length-1,size:"small",withOnlyIcon:!0,children:Object(N.jsx)(_.g,{name:"arrow-right",fontSize:10})})})})})}Z.displayName="DepthSlider";var ee=o.a.memo(Z),te=n(223);n(620);var ne=function(e){var t=e.data,n=e.onListScroll,i=e.addUriToList,c=e.index,r=void 0===c?0:c,s=e.mediaSetKey,j=e.wrapperOffsetHeight,v=e.wrapperOffsetWidth,m=e.orderedMap,f=e.focusedState,b=e.additionalProperties,g=e.tableHeight,x=e.tooltip,O=e.mediaType,_=e.sortFieldsDict,w=e.sortFields,S=o.a.useState([]),P=Object(a.a)(S,2),T=P[0],k=P[1],I=[],z={};function D(e,t){for(var n=0;n<e.length;n++)t[n]||(t[n]=[]),t[n].push(e[n])}function E(e,t){var n=Object(a.a)(I[I.length-1],2),i=n[0],o=n[1],c=t[t.length-1].split(" = "),r=Object(a.a)(c,2),s=r[0],l=r[1];if(t.length===i.length)i[i.length-1][s].push(l),D(e,o);else{var u=[];D(e,u),t[t.length-1]=Object(d.a)({},s,[l]),I.push([t,u])}}function H(e){var t=[],n=[];return null===w||void 0===w||w.forEach((function(e){t.push(e.value),n.push(e.order)})),u.a.orderBy(e,t,n)}!function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[""],a=arguments.length>2?arguments[2]:void 0;if(Array.isArray(t)){var i=H(t);b.stacking&&I.length?E(i,n):I.push([n,i])}else{var o,c=u.a.orderBy(Object(l.a)((null===a||void 0===a?void 0:a.ordering)||[]).reduce((function(e,t){return e.push(Object(d.a)({},a.key,t)),e}),[]),[(null===a||void 0===a?void 0:a.key)||""],[(null===_||void 0===_||null===(o=_[null===a||void 0===a?void 0:a.orderKey])||void 0===o?void 0:o.order)||"asc"]).map((function(e){return e[null===a||void 0===a?void 0:a.key]}));c.forEach((function(i){var o="".concat(a.key," = ").concat(Object(te.a)(i));z.hasOwnProperty(n.join(""))||(I.push([n,[]]),z[n.join("")]=1),e(t[o],n.concat([o]),a[o])}))}}(t,[""],m);var M=o.a.useCallback((function(e,t){if(e!==T[t]){var n=Object(l.a)(T);n[t]=e,k(n)}}),[T,k]),R=o.a.useMemo((function(){var e,n;return O===p.a.AUDIO?null===(e=C.f[O]())||void 0===e?void 0:e.height:null===(n=C.f[O]({data:t,additionalProperties:b,wrapperOffsetWidth:v,wrapperOffsetHeight:j}))||void 0===n?void 0:n.height}),[b,t,O,j,v]);return o.a.useEffect((function(){b.stacking&&I.length&&k(Array(I.length).fill(0))}),[b.stacking,t,I.length]),Object(N.jsx)(y.a,{children:Object(N.jsx)(h.c,{height:j||0,itemCount:I.length,itemSize:function(e){var t=Object(a.a)(I[e],2),n=t[0],i=t[1],o=A(i.flat()),c=o.maxHeight,r=o.maxWidth,s=b.mediaItemSize,l=b.alignmentType,d=b.stacking,u=n[n.length-1],h=d&&"object"===typeof u,j=ce({isStackedPath:h,lastPath:u}).pathValue;if(1===n.length)return 0;if(i.length>0){if(O===p.a.IMAGE)return C.h[O]({maxHeight:c,maxWidth:r,mediaItemHeight:R,alignmentType:l,wrapperOffsetWidth:v,mediaItemSize:s,stacking:h&&j.length>1});if(O===p.a.AUDIO)return C.h[O]()}return C.j+C.k},width:"100%",onScroll:n,itemData:{data:I,addUriToList:i,wrapperOffsetWidth:v,wrapperOffsetHeight:j,index:r,mediaSetKey:s,mediaItemHeight:R,focusedState:f,additionalProperties:b,tooltip:x,mediaType:O,depthMap:T,onDepthChange:M},children:oe},I.length+g+s)})};function ae(e,t){return e.mediaSetKey===t.mediaSetKey&&e.focusedState===t.focusedState&&e.sortFieldsDict===t.sortFieldsDict}var ie=o.a.memo(ne,ae),oe=o.a.memo((function(e){var t=e.index,n=e.style,i=e.data,o=Object(a.a)(i.data[t],2),c=o[0],l=o[1],d=c[c.length-1],u=i.depthMap[t]||0,h=i.additionalProperties.stacking&&"object"===typeof d,j=ce({isStackedPath:h,lastPath:d}),p=j.pathKey,f=j.pathValue,b=function(e){var t=e.isStackedPath,n=e.pathValue,a=e.depth,i=e.items,o="",c=[];if(t){var s;o=null===(s=n[a])||void 0===s?void 0:s.trim();var l,d=Object(r.a)(i);try{for(d.s();!(l=d.n()).done;){var u=l.value;u[a]&&c.push(u[a])}}catch(h){d.e(h)}finally{d.f()}}else o=null===n||void 0===n?void 0:n.trim(),c=i;return{currentValue:o,currentItems:c}}({isStackedPath:h,pathValue:f,depth:u,items:l}),g=b.currentValue,x=b.currentItems,O=function(e){try{JSON.parse(e)}catch(t){return!1}return JSON.parse(e)}(g),w="object"===typeof O,S=x.length>0&&h&&f.length>1;return Object(N.jsx)(y.a,{children:Object(N.jsxs)("div",{className:"MediaSet",style:Object(s.a)({paddingLeft:"calc(0.625rem * ".concat(c.length-2,")")},n),children:[c.slice(2).map((function(e,t){return Object(N.jsx)(y.a,{children:Object(N.jsx)("div",{className:"MediaSet__connectorLine",style:{left:"calc(0.625rem * ".concat(t,")")}})},e)})),Object(N.jsxs)("div",{className:"MediaSet__container ".concat(c.length>2?"withDash":""),children:[c.length>1&&Object(N.jsx)(y.a,{children:Object(N.jsx)(J.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},anchor:function(e){var n=e.onAnchorClick;return Object(N.jsxs)("span",{className:"MediaSet__container__path",children:[Object(N.jsx)(m.a,{placement:"top-start",title:"".concat(p," = ").concat(g),children:Object(N.jsxs)("span",{className:"MediaSet__container__path__title",style:{height:C.j,width:S?"":"100%"},children:[Object(N.jsx)("span",{className:v()("MediaSet__container__path__title__key",{stacked:S}),children:p}),"=",Object(N.jsx)("span",{onClick:w?n:void 0,className:v()("MediaSet__container__path__title__value",{stacked:S,MediaSet__container__path__title__pointer:w}),children:g})]})}),S&&Object(N.jsx)(Q,{index:t,pathValue:f,depth:u,onDepthChange:i.onDepthChange})]})},component:Object(N.jsx)(_.i,{json:O})})}),S&&Object(N.jsx)(ee,{index:t,pathValue:f,depth:u,onDepthChange:i.onDepthChange}),x.length>0&&Object(N.jsx)("div",{className:"MediaSet__container__mediaItemsList",children:Object(N.jsx)(q,{data:x,addUriToList:i.addUriToList,wrapperOffsetWidth:i.wrapperOffsetWidth,wrapperOffsetHeight:i.wrapperOffsetHeight,mediaItemHeight:i.mediaItemHeight,focusedState:i.focusedState,additionalProperties:i.additionalProperties,tooltip:i.tooltip,mediaType:i.mediaType},"".concat(t,"-").concat(u))})]})]})})}),h.d);function ce(e){var t=e.isStackedPath,n=e.lastPath,i="",o="";if(t)o=n[i=Object.keys(n)[0]];else{var c=null===n||void 0===n?void 0:n.split(" = "),r=Object(a.a)(c,2),s=r[0];i=void 0===s?"":s;var l=r[1];o=void 0===l?"":l}return{pathKey:i,pathValue:o}}var re=n(138),se=n(520),le=n(525),de=n(26),ue=n(243),he=n(77),je=n(131);n(621);function ve(e){var t=e.data,n=e.isLoading,i=e.panelResizing,r=e.wrapperOffsetHeight,s=e.wrapperOffsetWidth,l=e.orderedMap,d=e.resizeMode,u=e.tooltip,h=e.focusedState,j=e.additionalProperties,v=e.tableHeight,m=e.mediaType,p=e.controls,f=e.actionPanel,b=e.actionPanelSize,g=e.tooltipType,x=e.onActivePointChange,O=e.getBlobsData,S=e.sortFieldsDict,P=e.sortFields,T=e.illustrationConfig,k=o.a.useState(null),I=Object(a.a)(k,2),A=I[0],z=I[1],D=o.a.useRef([]),E=o.a.useRef(0),H=o.a.useRef(null),M=o.a.useRef(null),R=o.a.useRef(),L=o.a.useRef(0),V=o.a.useRef(0),W=o.a.useCallback((function(){if(M.current&&H.current){var e=M.current.pointRect;z({bottom:e.bottom,right:e.right,top:e.top,left:e.left})}else z(null)}),[z]),B=o.a.useCallback((function(e){var t=e.activePoint,n=e.focusedStateActive,a=void 0!==n&&n;M.current=t,null!==t?(x&&x(t,a),W()):(z(null),x&&x({key:null},a))}),[x,z,W]),G=o.a.useCallback((function(){((null===h||void 0===h?void 0:h.key)||A)&&(V.current&&window.cancelAnimationFrame(V.current),B({activePoint:null}))}),[null===h||void 0===h?void 0:h.key,A,B]),F=o.a.useCallback((function(e){e&&(e.stopPropagation(),e.target&&(V.current=window.requestAnimationFrame((function(){var t=e.target.closest('[data-mediasetitem="mediaSetItem"]');if(t){var n=t.getAttribute("data-key"),a=t.getAttribute("data-seqkey"),i=t.getBoundingClientRect();!i||h.key===n&&null!==A||(null===h||void 0===h?void 0:h.active)||B({activePoint:{pointRect:i,key:n,seqKey:a}})}else G()}))))}),[null===h||void 0===h?void 0:h.key,null===h||void 0===h?void 0:h.active,A,B,G]),U=o.a.useMemo((function(){return Date.now()}),[t,r,s,j,S]);var K=Object(de.m)((function(){E.current&&window.clearTimeout(E.current),E.current=window.setTimeout((function(){Object(c.a)(D.current)||(R.current=O(D.current),R.current.call().then((function(){D.current=[]})))}),C.b)}),C.b);return o.a.useEffect((function(){return document.addEventListener("mouseover",G),function(){document.removeEventListener("mouseover",G)}}),[G]),o.a.useEffect((function(){return function(){E.current&&window.clearTimeout(E.current),R.current&&R.current.abort(),w.a.init()}}),[]),Object(N.jsx)(y.a,{children:Object(N.jsx)(re.a,{isLoading:n,className:"MediaPanel__loader",height:"100%",loaderComponent:Object(N.jsx)(se.a,{controlsCount:4}),children:i?Object(N.jsx)("div",{className:"MediaPanel__Container__resizing",children:Object(N.jsx)(_.m,{size:14,color:"info",children:"Release to resize"})}):Object(N.jsx)(N.Fragment,{children:Object(N.jsxs)("div",{className:"MediaPanel__Container",children:[Object(c.a)(t)?Object(N.jsx)(ue.a,{page:(null===T||void 0===T?void 0:T.page)||"runs",type:(null===T||void 0===T?void 0:T.type)||je.c.EmptyData,size:(null===T||void 0===T?void 0:T.size)||"xLarge",title:(null===T||void 0===T?void 0:T.title)||""}):Object(N.jsxs)("div",{className:"MediaPanel",style:{height:"calc(100% - ".concat(b||0,")")},children:[Object(N.jsx)("div",{ref:H,className:"MediaPanel__mediaSetContainer",onMouseOver:F,children:Object(N.jsx)(y.a,{children:Object(N.jsx)(ie,{data:t,onListScroll:function(e){var t=e.scrollOffset;Math.abs(t-L.current)>window.innerHeight&&R.current&&R.current.abort(),L.current=t,G()},addUriToList:function(e){w.a.getState()[e]||(D.current.push(e),K())},mediaSetKey:U,sortFieldsDict:S,wrapperOffsetHeight:r,wrapperOffsetWidth:s,focusedState:h,orderedMap:l,additionalProperties:j,tableHeight:v,tooltip:u,mediaType:m,sortFields:P})})}),g&&Object(N.jsx)(y.a,{children:Object(N.jsx)(le.a,{containerNode:H.current,activePointRect:A,open:d!==he.b.MaxHeight&&!i&&((null===u||void 0===u?void 0:u.display)||(null===h||void 0===h?void 0:h.active)),chartType:g,tooltipContent:null===u||void 0===u?void 0:u.content,focusedState:h})}),p&&Object(N.jsx)(y.a,{children:Object(N.jsx)("div",{className:"MediaPanel__controls",children:p})})]}),f]})})})})}var me=o.a.memo(ve);t.a=me}}]);
//# sourceMappingURL=ImagesVisualizer.js.map?version=efc5752958e457f9e37c