(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{187:function(e,t,a){},277:function(e,t,a){},279:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a(29),s=a(7),c=a.n(s),i=a(4),o=a(13),l=a(11),d=a.n(l),u=a(14),b=a(18),j=a(24),p=a(107),h=function(){var e=sessionStorage.getItem("sessionId");return null==e&&(e=Object(p.v4)(),sessionStorage.setItem("sessionId",e)),e},m=function(e){"undefined"!==typeof e&&e?c.a.defaults.headers.common.Authorization="Token "+e:delete c.a.defaults.headers.common.Authorization},f=null;localStorage.getItem("token")&&(f=localStorage.getItem("token"),m(f));var x={token:f,username:"",user:{pk:0,username:"",first_name:"",last_name:"",email:""}},v=Object(b.b)({name:"auth",initialState:x,reducers:{setToken:function(e,t){e.token=t.payload,m(e.token),e.token?localStorage.setItem("token",e.token):localStorage.removeItem("token")},setUsername:function(e,t){e.username=t.payload?t.payload:"",e.username&&""!==e.username?localStorage.setItem("username",e.username):localStorage.removeItem("username")},setUserInfo:function(e,t){e.user=t.payload}}}),O=v.reducer,g=v.actions,y=g.setToken,w=g.setUsername,k=g.setUserInfo,N=function(e){return e.auth.token},S=function(e){return e.auth.username},C=function(e){return e.auth.user},P=Object(b.b)({name:"version",initialState:{fetchingIsPro:!0,isPro:!1,welcome:""},reducers:{setVersion:function(e,t){var a=t.payload.isPro;e.isPro=a,e.fetchingIsPro=!1},setWelcome:function(e,t){e.welcome=t.payload}}}),T=P.reducer,_=P.actions,R=_.setVersion,M=_.setWelcome,A=function(e){return e.version.isPro},I=function(e){return e.version.fetchingIsPro},E=function(e){return e.version.welcome},L=a(28),F=a(19),W=(a(187),Object(b.b)({name:"app",initialState:{view:"app",files:[],filesState:"unknown"},reducers:{setView:function(e,t){e.view=t.payload},setFilesState:function(e,t){e.filesState=t.payload},setFiles:function(e,t){e.files=t.payload}}})),H=W.reducer,D=W.actions,z=D.setView,U=D.setFilesState,B=D.setFiles,K=function(e){return e.app.view},Y=function(e){return e.app.filesState},V=function(e){return e.app.files},J=a(0);function q(){return Object(J.jsx)("div",{style:{color:"white",padding:"5px",float:"right"},children:Object(J.jsxs)("a",{href:"/login",className:"btn btn-primary btn-sm ",children:[Object(J.jsx)("i",{className:"fa fa-sign-in","aria-hidden":"true"})," Log in"]})})}function G(e){var t=e.username,a=Object(i.b)(),n=Object(o.f)();return Object(J.jsx)("div",{children:Object(J.jsxs)("div",{className:"dropdown",style:{float:"right"},children:[Object(J.jsx)("a",{className:"btn btn-secondary btn-sm dropdown-toggle",style:{margin:"5px"},href:"#",role:"button",id:"dropdownMenuLink","data-bs-toggle":"dropdown","aria-expanded":"false",children:t}),Object(J.jsxs)("ul",{className:"dropdown-menu dropdown-menu-end","aria-labelledby":"dropdownMenuLink",children:[Object(J.jsx)("li",{children:Object(J.jsxs)("a",{className:"dropdown-item",href:"/account",children:[Object(J.jsx)("i",{className:"fa fa-user","aria-hidden":"true"})," Account"]})}),Object(J.jsx)("li",{children:Object(J.jsx)("hr",{className:"dropdown-divider"})}),Object(J.jsx)("li",{children:Object(J.jsxs)("a",{className:"dropdown-item",onClick:function(){return a(function(e){return function(){var t=Object(u.a)(d.a.mark((function t(a){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=4,c.a.post("/api/v1/auth/logout/");case 4:j.b.success("Log out successfull"),a(y("")),a(w("")),e.push("/"),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),j.b.error("Problem during log out");case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}(n))},children:[Object(J.jsx)("i",{className:"fa fa-sign-out","aria-hidden":"true"})," Log out"]})})]})]})})}function Q(e){var t=e.showFiles,a=e.isPro,n=e.username,r=Object(i.b)();return Object(J.jsxs)("header",{className:"navbar navbar-dark sticky-top bg-dark flex-md-nowrap p-0",children:[Object(J.jsxs)("a",{className:"navbar-brand col-md-3 col-lg-3 me-0 px-3",href:"/",children:[Object(J.jsx)("i",{className:"fa fa-home","aria-hidden":"true"})," "," ",Object(J.jsx)("img",{alt:"Mercury",src:"/static/mercury_logo.svg",style:{height:"24px"}})]}),t&&Object(J.jsxs)("ul",{className:"nav col-12 col-lg-auto me-lg-auto mb-2 mb-md-0",children:[Object(J.jsx)("li",{children:Object(J.jsxs)("button",{className:"nav-link px-2 text-white",style:{background:"transparent",border:"none",fontSize:"0.9em"},onClick:function(){r(z("app"))},children:[Object(J.jsx)("i",{className:"fa fa-laptop","aria-hidden":"true"})," App"]})}),Object(J.jsx)("li",{children:Object(J.jsxs)("button",{className:"nav-link px-2 text-white",style:{background:"transparent",border:"none",fontSize:"0.9em"},onClick:function(){r(z("files"))},children:[Object(J.jsx)("i",{className:"fa fa-folder-open-o","aria-hidden":"true"})," Output Files"]})})]}),a&&""===n&&Object(J.jsx)(q,{}),a&&""!==n&&Object(J.jsx)(G,{username:n}),Object(J.jsx)("button",{className:"navbar-toggler position-absolute d-md-none collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#sidebarMenu","aria-controls":"sidebarMenu","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(J.jsx)("span",{className:"navbar-toggler-icon",style:{height:"15px",width:"15px"}})})]})}var X=a(9),Z=a(59),$=Object(b.b)({name:"notebooks",initialState:{notebooks:[],loadingState:"loading",selectedNotebook:{},loadingStateSelected:"loading",watchModeCounter:0,slidesHash:""},reducers:{setNotebooks:function(e,t){e.notebooks=t.payload},setLoadingState:function(e,t){e.loadingState=t.payload},setSelectedNotebook:function(e,t){t.payload.state.startsWith("WATCH")&&e.selectedNotebook.file_updated_at===t.payload.file_updated_at||(e.selectedNotebook=t.payload),t.payload.state.startsWith("WATCH")&&(e.watchModeCounter+=1)},setLoadingStateSelected:function(e,t){e.loadingStateSelected=t.payload},setSlidesHash:function(e,t){e.slidesHash=t.payload}}}),ee=$.reducer,te=$.actions,ae=te.setNotebooks,ne=te.setLoadingState,re=te.setSelectedNotebook,se=te.setLoadingStateSelected,ce=te.setSlidesHash,ie=function(e){return e.notebooks.notebooks},oe=function(e){return e.notebooks.loadingState},le=function(e){return e.notebooks.selectedNotebook},de=function(e){return e.notebooks.loadingStateSelected},ue=function(e){return e.notebooks.watchModeCounter},be=function(e){return e.notebooks.slidesHash},je=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(){var a=Object(u.a)(d.a.mark((function a(n){var r,s,i,o;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n(ce("")),t||n(se("loading")),r="/api/v1/notebooks/".concat(e,"/"),a.next=6,c.a.get(r);case 6:s=a.sent,i=s.data,o=JSON.parse(i.params),n(re(Object(X.a)(Object(X.a)({},i),{},{params:o}))),t||n(se("loaded")),a.next=17;break;case 13:a.prev=13,a.t0=a.catch(0),t||n(se("error")),console.error("Problem during loading selected notebook (".concat(e,"). ").concat(a.t0));case 17:case"end":return a.stop()}}),a,null,[[0,13]])})));return function(e){return a.apply(this,arguments)}}()},pe=Object(b.b)({name:"tasks",initialState:{currentTask:{}},reducers:{setCurrentTask:function(e,t){e.currentTask=t.payload}}}),he=pe.reducer,me=pe.actions.setCurrentTask,fe=function(e){return e.tasks.currentTask},xe=function(e){return function(){var t=Object(u.a)(d.a.mark((function t(a){var n,r,s,i;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=h(),t.prev=1,r="/api/v1/latest_task/".concat(e,"/").concat(n),t.next=5,c.a.get(r);case 5:s=t.sent,i=s.data,a(me(i)),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),a(me({}));case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()},ve=function(){try{var e,t,a=document.getElementById("main-iframe"),n=null===a||void 0===a||null===(e=a.contentWindow)||void 0===e||null===(t=e.location)||void 0===t?void 0:t.hash;if(n)return n}catch(r){}return""},Oe=Object(b.b)({name:"widgets",initialState:{widgets:{}},reducers:{setWidgetValue:function(e,t){var a=t.payload,n=a.key,r=a.value;e.widgets[n]=r},clearWidgets:function(e){e.widgets={}}}}),ge=Oe.reducer,ye=Oe.actions,we=ye.setWidgetValue,ke=(ye.clearWidgets,function(e){return e.widgets.widgets});function Ne(e){var t=e.widgetKey,a=e.label,n=e.value,r=e.disabled,s=Object(i.b)();return Object(J.jsxs)("div",{className:"form-group form-check form-switch mb-3",children:[Object(J.jsx)("input",{className:"form-check-input",type:"checkbox",id:"checkbox-".concat(a),disabled:r,onChange:function(){s(we({key:t,value:!n}))},checked:null!=n&&n}),Object(J.jsx)("label",{className:"form-check-label",htmlFor:"checkbox-".concat(a),children:a})]})}var Se=a(109),Ce=a.n(Se);function Pe(e){var t=e.widgetKey,a=e.label,n=e.value,r=e.min,s=e.max,c=e.step,o=e.disabled,l=Object(i.b)(),d=0,u=100,b=1;return r&&(d=r),s&&(u=s),c&&(b=c),Object(J.jsxs)("div",{className:"form-group mb-3",children:[Object(J.jsx)("label",{htmlFor:"checkbox-".concat(a),children:a}),Object(J.jsx)(Ce.a,{className:"form-control",disabled:o,value:n,min:d,max:u,step:b,onChange:function(e){l(we({key:t,value:e}))}})]})}var Te=a(40);function _e(e){var t=e.widgetKey,a=e.label,n=e.value,r=e.min,s=e.max,c=e.step,o=(e.vertical,e.disabled),l=Object(i.b)(),d=0,u=100,b=1;r&&(d=r),s&&(u=s),c&&(b=c);var j=null!=n&&void 0!==n&&2===n.length?n:[d,u];return Object(J.jsxs)("div",{className:"form-group mb-3",children:[Object(J.jsx)("label",{htmlFor:"range-slider-".concat(a),children:a}),Object(J.jsx)("div",{style:{paddingTop:"12px",display:"flex",justifyContent:"center",flexWrap:"wrap"},children:Object(J.jsx)(Te.Range,{disabled:o,values:j,step:b,min:d,max:u,onChange:function(e){l(we({key:t,value:e}))},renderTrack:function(e){var t=e.props,a=e.children;return Object(J.jsx)("div",{onMouseDown:t.onMouseDown,onTouchStart:t.onTouchStart,style:Object(X.a)(Object(X.a)({},t.style),{},{height:"36px",display:"flex",width:"100%"}),children:Object(J.jsxs)("div",{ref:t.ref,style:{height:"5px",width:"100%",borderRadius:"4px",background:Object(Te.getTrackBackground)({values:j,colors:["#ccc",o?"rgba(0, 0, 0, 0.3)":"#2684ff","#ccc"],min:d,max:u}),alignSelf:"center"},children:[a,Object(J.jsxs)("div",{style:{display:"inline-block",width:"100%",fontSize:"12px",paddingTop:"13px"},children:[Object(J.jsx)("div",{style:{float:"left"},children:d}),Object(J.jsx)("div",{style:{float:"right"},children:u})]})]})})},renderThumb:function(e){var t=e.index,a=e.props,n=e.isDragged;return Object(J.jsxs)("div",Object(X.a)(Object(X.a)({},a),{},{style:Object(X.a)(Object(X.a)({},a.style),{},{height:"18px",width:"18px",border:"None !important",borderRadius:"4px",backgroundColor:"#FFF",display:"flex",justifyContent:"center",alignItems:"center",boxShadow:"0px 2px 6px #AAA",outline:"none"}),children:[Object(J.jsx)("div",{style:{position:"absolute",top:"-24px",color:"#fff",fontWeight:"bold",fontSize:"12px",fontFamily:"Arial,Helvetica Neue,Helvetica,sans-serif",padding:"2px",borderRadius:"3px",backgroundColor:o?"rgba(0, 0, 0, 0.3)":"#2684ff"},children:j[t]}),Object(J.jsx)("div",{style:{height:"12px",width:"3px",backgroundColor:n?"#2684ff":"#CCC"}})]}))}})})]})}var Re=a(155);function Me(e){var t=e.widgetKey,a=e.label,n=e.value,r=e.choices,s=e.multi,c=e.disabled,o=Object(i.b)(),l={menu:function(e){return Object(X.a)(Object(X.a)({},e),{},{zIndex:100})}},d={value:"",label:""},u=[{value:"",label:""}],b=r.map((function(e){return n&&e===n&&!s&&(d={value:e,label:e}),{value:e,label:e}}));return s&&(u=[],r.map((function(e){return n&&n.includes(e)&&s&&u.push({value:e,label:e}),{value:e,label:e}}))),Object(J.jsxs)("div",{className:"form-group mb-3",children:[Object(J.jsx)("label",{htmlFor:"select-".concat(a),children:a}),Object(J.jsx)(Re.a,{id:"select-".concat(a),isDisabled:c,name:a||"Select",styles:l,value:s?u:d,options:b,isMulti:s,onChange:function(e){if(e)if(function(e){return void 0!==e.value}(e))o(we({key:t,value:e.value}));else{var a=Array.from(e.values()).filter((function(e){return void 0!==e}));o(we({key:t,value:a.map((function(e){return e.value}))}))}}})]})}function Ae(e){var t=e.widgetKey,a=e.label,n=e.value,r=e.min,s=e.max,c=e.step,o=(e.vertical,e.disabled),l=Object(i.b)(),d=0,u=100,b=1;r&&(d=r),s&&(u=s),c&&(b=c);var j=[null!==n?n:u];return Object(J.jsxs)("div",{className:"form-group mb-3",children:[Object(J.jsx)("label",{htmlFor:"slider-".concat(a),children:a}),Object(J.jsx)("div",{style:{paddingTop:"12px",display:"flex",justifyContent:"center",flexWrap:"wrap"},children:Object(J.jsx)(Te.Range,{disabled:o,values:j,step:b,min:d,max:u,onChange:function(e){l(we({key:t,value:e[0]}))},renderTrack:function(e){var t=e.props,a=e.children;return Object(J.jsx)("div",{onMouseDown:t.onMouseDown,onTouchStart:t.onTouchStart,style:Object(X.a)(Object(X.a)({},t.style),{},{height:"36px",display:"flex",width:"100%"}),children:Object(J.jsxs)("div",{ref:t.ref,style:{height:"5px",width:"100%",borderRadius:"4px",background:Object(Te.getTrackBackground)({values:j,colors:[o?"rgba(0, 0, 0, 0.3)":"#2684ff","#ccc"],min:d,max:u}),alignSelf:"center"},children:[a,Object(J.jsxs)("div",{style:{display:"inline-block",width:"100%",fontSize:"12px",paddingTop:"13px"},children:[Object(J.jsx)("div",{style:{float:"left"},children:d}),Object(J.jsx)("div",{style:{float:"right"},children:u})]})]})})},renderThumb:function(e){var t=e.props,a=e.isDragged;return Object(J.jsxs)("div",Object(X.a)(Object(X.a)({},t),{},{style:Object(X.a)(Object(X.a)({},t.style),{},{height:"18px",width:"18px",border:"None",borderRadius:"4px",backgroundColor:"#FFF",display:"flex",justifyContent:"center",alignItems:"center",boxShadow:"0px 2px 6px #AAA",outline:"none"}),children:[Object(J.jsx)("div",{style:{position:"absolute",top:"-24px",color:"#fff",fontWeight:"bold",fontSize:"12px",fontFamily:"Arial,Helvetica Neue,Helvetica,sans-serif",padding:"2px",borderRadius:"3px",backgroundColor:o?"rgba(0, 0, 0, 0.3)":"#2684ff"},children:j[0]}),Object(J.jsx)("div",{style:{height:"12px",width:"3px",backgroundColor:a?"#2684ff":"#CCC"}})]}))}})})]})}var Ie=a(60),Ee=a.n(Ie);function Le(e){return"checkbox"===e.input}function Fe(e){return"numeric"===e.input}function We(e){return"slider"===e.input}function He(e){return"range"===e.input}function De(e){return"file"===e.input}function ze(e){return"text"===e.input}var Ue=a(73),Be=a(110),Ke=a.n(Be),Ye=a(111),Ve=a.n(Ye),Je=a(112),qe=a.n(Je);function Ge(e){var t=e.widgetKey,a=e.label,n=e.maxFileSize,r=e.disabled,s=Object(i.b)(),o="100MB";return n&&(o=n),Object(J.jsxs)("div",{className:"form-group mb-3",children:[Object(J.jsx)("label",{htmlFor:"file-".concat(a),children:a}),Object(J.jsx)("div",{children:Object(J.jsx)(Ue.FilePond,{disabled:r,maxFileSize:o,onprocessfile:function(e,a){s(we({key:t,value:a.serverId}))},server:{url:"".concat(c.a.defaults.baseURL,"/api/v1/fp"),process:"/process/",revert:function(){var e=Object(u.a)(d.a.mark((function e(a,n,r){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.a.delete("".concat(c.a.defaults.baseURL,"/api/v1/fp/revert"),{data:a});case 3:s(we({key:t,value:[]})),n(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),r("Problem with uploaded file removal");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a,n){return e.apply(this,arguments)}}()},labelIdle:'Drag & Drop your file or <span class="filepond--label-action">Browse</span>'})})]})}function Qe(e){var t=e.widgetKey,a=e.label,n=e.value,r=e.rows,s=e.disabled,c=Object(i.b)(),o=r||1,l=function(e){return e.replace(/["'(){}[\]`^:]/gim,"")};return Object(J.jsxs)("div",{className:"form-group mb-3",children:[Object(J.jsx)("label",{htmlFor:"textarea-".concat(a),children:a}),1===o&&Object(J.jsx)("input",{className:"form-control",type:"text",id:"text-".concat(a),value:n||"",onChange:function(e){c(we({key:t,value:l(e.target.value)}))},disabled:s}),o>1&&Object(J.jsx)("textarea",{className:"form-control",id:"text-area-".concat(a),rows:o,value:n||"",onChange:function(e){c(we({key:t,value:l(e.target.value)}))},disabled:s})]})}function Xe(e){var t=e.notebookTitle,a=e.notebookId,r=(e.loadingState,e.waiting),s=e.widgetsParams,o=e.watchMode,l=e.notebookPath,b=e.displayEmbed,p=Object(i.b)(),m=Object(i.c)(ke);Object(n.useEffect)((function(){if(s)for(var e=0,t=Object.entries(s);e<t.length;e++){var a=Object(F.a)(t[e],2),n=a[0],r=a[1];"file"===r.input?p(we({key:n,value:[]})):"text"===r.input?p(we({key:n,value:r.value?r.value:""})):p(we({key:n,value:r.value}))}}),[p,s]);var f=[],x=[];if(s)for(var v=0,O=Object.entries(s);v<O.length;v++){var g=Object(F.a)(O[v],2),y=g[0],w=g[1];"select"===w.input?f.push(Object(J.jsx)(Me,{widgetKey:y,disabled:r,label:null===w||void 0===w?void 0:w.label,value:m[y],choices:null===w||void 0===w?void 0:w.choices,multi:null===w||void 0===w?void 0:w.multi},y)):Le(w)?f.push(Object(J.jsx)(Ne,{widgetKey:y,disabled:r,label:null===w||void 0===w?void 0:w.label,value:m[y]},y)):Fe(w)?f.push(Object(J.jsx)(Pe,{widgetKey:y,disabled:r,label:null===w||void 0===w?void 0:w.label,value:m[y],min:null===w||void 0===w?void 0:w.min,max:null===w||void 0===w?void 0:w.max,step:null===w||void 0===w?void 0:w.step},y)):We(w)?f.push(Object(J.jsx)(Ae,{widgetKey:y,disabled:r,label:null===w||void 0===w?void 0:w.label,value:m[y],min:null===w||void 0===w?void 0:w.min,max:null===w||void 0===w?void 0:w.max,step:null===w||void 0===w?void 0:w.step,vertical:null===w||void 0===w?void 0:w.vertical},y)):He(w)?f.push(Object(J.jsx)(_e,{widgetKey:y,disabled:r,label:null===w||void 0===w?void 0:w.label,value:m[y],min:null===w||void 0===w?void 0:w.min,max:null===w||void 0===w?void 0:w.max,step:null===w||void 0===w?void 0:w.step,vertical:null===w||void 0===w?void 0:w.vertical},y)):De(w)?(f.push(Object(J.jsx)(Ge,{widgetKey:y,disabled:r,label:null===w||void 0===w?void 0:w.label,maxFileSize:null===w||void 0===w?void 0:w.maxFileSize},y)),x.push(y)):ze(w)&&f.push(Object(J.jsx)(Qe,{widgetKey:y,disabled:r,label:null===w||void 0===w?void 0:w.label,value:m[y],rows:null===w||void 0===w?void 0:w.rows},y))}var k=function(){if(0===x.length)return!0;var e,t=Object(Z.a)(x);try{for(t.s();!(e=t.n()).done;){var a=e.value;if(!Object.prototype.hasOwnProperty.call(m,a))return!1;if(0===m[a].length)return!1}}catch(n){t.e(n)}finally{t.f()}return!0},N={};return b&&(N={padding:"0px"}),Object(J.jsx)("nav",{id:"sidebarMenu",className:"col-md-3 col-lg-3 d-md-block bg-light sidebar collapse",style:Object(X.a)(Object(X.a)({},N),{},{overflowY:"auto"}),children:Object(J.jsxs)("div",{className:"position-sticky p-3",children:[Object(J.jsx)("h4",{children:t}),Object(J.jsx)("div",{style:{padding:"0px"},children:Object(J.jsxs)("form",{children:[f,Object(J.jsxs)("div",{className:"form-group mb-3",children:[Object(J.jsxs)("button",{type:"button",className:"btn btn-success",style:{marginRight:"10px",width:"47%"},onClick:function(){return p(function(e){return function(){var t=Object(u.a)(d.a.mark((function t(a,n){var r,s,i,o,l,u,b;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n().widgets.widgets,s=h(),i=ve(),a(ce(i)),t.prev=4,o={session_id:s,params:JSON.stringify(r)},l="/api/v1/execute/".concat(e),t.next=9,c.a.post(l,o);case 9:u=t.sent,b=u.data,a(me(b)),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(4),console.error("Problem during notebook execution. ".concat(t.t0));case 17:case"end":return t.stop()}}),t,null,[[4,14]])})));return function(e,a){return t.apply(this,arguments)}}()}(a))},disabled:r||!k(),children:[Object(J.jsx)("i",{className:"fa fa-play","aria-hidden":"true"})," Run"]}),Object(J.jsxs)("button",{style:{width:"47%",float:"right"},type:"button",className:"btn btn-primary",disabled:r,onClick:function(){return e="".concat(c.a.defaults.baseURL).concat(l),a="".concat(t,".html"),void c.a.get(e,{responseType:"blob"}).then((function(e){Ee()(e.data,a)}));var e,a},children:[Object(J.jsx)("i",{className:"fa fa-download","aria-hidden":"true"})," Download"]})]}),x&&!k()&&Object(J.jsxs)("div",{className:"alert alert-danger mb-3",role:"alert",children:[Object(J.jsx)("i",{className:"fa fa-file","aria-hidden":"true"})," Please upload all required files."]}),"Please provide title"===t&&Object(J.jsxs)("div",{className:"alert alert-warning mb-3",role:"alert",children:[Object(J.jsx)("i",{className:"fa fa-exclamation-triangle","aria-hidden":"true"})," ",Object(J.jsx)("b",{children:"Please add YAML config to your notebook as a first raw cell."}),Object(J.jsx)("br",{}),Object(J.jsx)("br",{}),"Example:",Object(J.jsxs)("pre",{children:["---",Object(J.jsx)("br",{}),"title: Report title",Object(J.jsx)("br",{}),"author: Your name",Object(J.jsx)("br",{}),"description: My amazing report",Object(J.jsx)("br",{}),"---"]}),Object(J.jsxs)("button",{type:"button",className:"btn btn-primary",onClick:function(){return window.open("https://github.com/mljar/mercury#convert-notebook-to-web-app-with-yaml","_blank")},children:[Object(J.jsx)("i",{className:"fa fa-book","aria-hidden":"true"})," Read more"]})]}),r&&Object(J.jsxs)("div",{className:"alert alert-primary mb-3",role:"alert",children:[Object(J.jsx)("i",{className:"fa fa-cogs","aria-hidden":"true"})," Notebook is executed. Please wait."]}),o&&Object(J.jsxs)("div",{className:"alert alert-secondary mb-3",role:"alert",children:[Object(J.jsx)("i",{className:"fa fa-refresh","aria-hidden":"true"})," Notebook in watch mode. All changes to Notebook will be automatically visible in Mercury."]})]})}),Object(J.jsx)("hr",{style:{marginTop:"50px",marginBottom:"10px"}}),Object(J.jsx)("div",{children:Object(J.jsxs)("button",{className:"btn btn-sm btn-outline-danger",onClick:function(){p(function(e){return function(){var t=Object(u.a)(d.a.mark((function t(a){var n,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=h(),r="/api/v1/clear_tasks/".concat(e,"/").concat(n),t.next=5,c.a.post(r);case 5:a(me({})),j.b.success("All previous tasks deleted. The default view of the app is displayed."),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),j.b.error("Trying to clear previous tasks. The error occured. ".concat(t.t0));case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}(a))},style:{border:"none"},disabled:r,title:"Click to clear all previous runs of the notebook",children:[Object(J.jsx)("i",{className:"fa fa-times-circle","aria-hidden":"true"})," Clear tasks"]})})]})})}function Ze(){var e=window;return{width:e.innerWidth,height:e.innerHeight}}Object(Ue.registerPlugin)(Ke.a,Ve.a,qe.a);var $e=a(61);function et(e){var t=e.loadingState,a=e.notebookPath,r=e.waiting,s=e.errorMsg,i=e.watchMode,o=e.displayEmbed,l=e.isPro,d=e.username,u=e.slidesHash,b=function(){var e=Object(n.useState)(Ze()),t=Object(F.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)((function(){function e(){r(Ze())}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),a}().height,j=o?b-10:b-58;return Object(J.jsx)("main",{className:"col-md-9 ms-sm-auto col-lg-9",style:{paddingTop:"0px",paddingRight:"0px",paddingLeft:"0px"},children:Object(J.jsx)($e.a,{tag:"div",blocking:r,children:Object(J.jsxs)("div",{children:["loading"===t&&!i&&Object(J.jsx)("p",{children:"Loading notebook. Please wait ..."}),"error"===t&&!l&&Object(J.jsx)("p",{style:{margin:"20px"},children:"Problem while loading notebook. Please try again later or contact Mercury administrator."}),"error"===t&&l&&""===d&&Object(J.jsxs)("p",{style:{margin:"20px"},children:[Object(J.jsx)("h5",{children:"Please log in to see the notebook"}),Object(J.jsxs)("a",{href:"/login",className:"btn btn-primary btn-sm ",children:[Object(J.jsx)("i",{className:"fa fa-sign-in","aria-hidden":"true"})," Log in"]})]}),"error"===t&&l&&""!==d&&Object(J.jsx)("p",{style:{margin:"20px"},children:"Problem while loading notebook. Please try again later or contact Mercury administrator."}),s&&Object(J.jsxs)("div",{className:"alert alert-danger mb-3",role:"alert",children:[Object(J.jsx)("b",{children:"Notebook is executed with errors."}),Object(J.jsx)("p",{children:s})]}),""===s&&"loading"!==t&&Object(J.jsx)("iframe",{width:"100%",height:j,src:"".concat(c.a.defaults.baseURL).concat(a).concat(u),title:"display",id:"main-iframe"},a)]})})})}var tt=function(e){var t=e.notebookId,a=Object(i.b)(),r=Object(i.c)(le),s=Object(i.c)(ue);return Object(n.useEffect)((function(){"WATCH_READY"!==r.state&&"WATCH_WAIT"!==r.state&&"WATCH_ERROR"!==r.state||setTimeout((function(){a(je(t,!0)),a(xe(t))}),2e3)}),[a,r,t,s]),Object(J.jsx)("div",{})};function at(e){var t,a=e.files,n=e.filesState,r=e.waiting,s=Object(i.b)(),o=[],l=Object(Z.a)(a);try{var d=function(){var e=t.value,a=e.split("/").pop();e&&a&&o.push(Object(J.jsxs)("div",{children:[Object(J.jsx)("i",{className:"fa fa-file-text-o","aria-hidden":"true",style:{paddingRight:"5px"}})," ",Object(J.jsx)("b",{children:a}),Object(J.jsxs)("button",{style:{float:"right"},type:"button",className:"btn btn-primary",onClick:function(){return t="".concat(c.a.defaults.baseURL).concat(e),n=a,void c.a.get(t,{responseType:"blob"}).then((function(e){Ee()(e.data,n)}));var t,n},children:[Object(J.jsx)("i",{className:"fa fa-download","aria-hidden":"true"})," Download"]}),Object(J.jsx)("hr",{})]},e))};for(l.s();!(t=l.n()).done;)d()}catch(u){l.e(u)}finally{l.f()}return Object(J.jsxs)("main",{className:"col-md-9 ms-sm-auto col-lg-9",style:{padding:"20px"},children:[Object(J.jsxs)("div",{className:"col-8",children:[Object(J.jsxs)("h3",{style:{paddingBottom:"10px"},children:[Object(J.jsx)("i",{className:"fa fa-folder-open-o","aria-hidden":"true"})," Files view"]}),Object(J.jsx)($e.a,{tag:"div",blocking:r,children:Object(J.jsxs)("div",{children:["loaded"===n&&o,"unknown"===n&&Object(J.jsx)("p",{children:"Please run the notebook to produce output files ..."}),"loading"===n&&Object(J.jsx)("p",{children:"Loading files please wait ..."}),"error"===n&&Object(J.jsx)("div",{className:"alert alert-danger mb-3",role:"alert",children:"There was an error during loading files. Please try to run the app again or contact the administrator."})]})})]}),Object(J.jsxs)("button",{className:"btn btn-secondary btn-sm",onClick:function(){s(z("app"))},children:[Object(J.jsx)("i",{className:"fa fa-arrow-left","aria-hidden":"true"})," Back to App"]})]})}function nt(){return Object(J.jsx)("a",{href:"https://mljar.com/mercury",target:"_blank",rel:"noreferrer",children:Object(J.jsx)("div",{className:"poweredby",children:Object(J.jsx)("div",{children:Object(J.jsx)("img",{alt:"Mercury",src:"/static/mercury_logo.svg",style:{height:"20px"}})})})})}var rt=function(e){e.isSingleApp;var t,a,r=e.notebookId,s=e.displayEmbed,o=Object(i.b)(),l=Object(i.c)(le),b=Object(i.c)(de),j=Object(i.c)(fe),p=Object(i.c)(K),m=Object(i.c)(V),f=Object(i.c)(Y),x=Object(i.c)(A),v=Object(i.c)(S),O=Object(i.c)(N),g=Object(i.c)(be),y=function(){return!(!j.state||"CREATED"!==j.state)||!(!j.state||"RECEIVED"!==j.state)},w=function(){return"WATCH_READY"===l.state||"WATCH_WAIT"===l.state||"WATCH_ERROR"===l.state};Object(n.useEffect)((function(){o(je(r)),o(xe(r))}),[o,r,O]),Object(n.useEffect)((function(){y()&&setTimeout((function(){o(xe(r))}),1e3)}),[o,j,r]),Object(n.useEffect)((function(){var e;"files"===p&&j.id&&j.state&&"DONE"===j.state&&j.result&&o((e=j.id,function(){var t=Object(u.a)(d.a.mark((function t(a){var n,r,s,i;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a(U("loading")),a(B([])),n=h(),r="/api/v1/output_files/".concat(n,"/").concat(e),t.next=7,c.a.get(r);case 7:s=t.sent,i=s.data,a(B(i)),a(U("loaded")),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(0),a(U("error")),console.error("Problem during loading output files. ".concat(t.t0));case 17:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e){return t.apply(this,arguments)}}()))}),[o,p,j.id,j.state,j.result]);var k=l.default_view_path;j.state&&"DONE"===j.state&&j.result&&(k=j.result);var C="";return j.state&&j.result&&"ERROR"===j.state&&(C=j.result),Object(J.jsxs)("div",{className:"App",children:[!s&&Object(J.jsx)(Q,{showFiles:function(e){if(e)for(var t=0,a=Object.entries(e);t<a.length;t++){var n=Object(F.a)(a[t],2)[1];if("dir"===n.output)return!0}return!1}(null===l||void 0===l||null===(t=l.params)||void 0===t?void 0:t.params),isPro:x,username:v}),Object(J.jsx)("div",{className:"container-fluid",children:Object(J.jsxs)("div",{className:"row",children:[Object(J.jsx)(tt,{notebookId:r}),Object(J.jsx)(Xe,{notebookTitle:l.title,notebookId:r,loadingState:b,waiting:y(),widgetsParams:null===l||void 0===l||null===(a=l.params)||void 0===a?void 0:a.params,watchMode:w(),notebookPath:k,displayEmbed:s}),"app"===p&&Object(J.jsx)(et,{loadingState:b,notebookPath:k,errorMsg:C,waiting:y(),watchMode:w(),displayEmbed:s,isPro:x,username:v,slidesHash:g}),"files"===p&&Object(J.jsx)(at,{files:m,filesState:f,waiting:y()})]})}),s&&Object(J.jsx)(nt,{})]})};var st=Object(o.h)((function(){var e=Object(o.g)().notebook_id,t=Number(e),a=Object(o.g)().embed,n=!(!a||"embed"!==a);return Object(J.jsx)(rt,{isSingleApp:!1,notebookId:t,displayEmbed:n})}));function ct(){return Object(J.jsx)("footer",{className:"footer",style:{position:"absolute",bottom:"0",width:"100%",height:"40px",lineHeight:"40px",backgroundColor:"#f5f5f5",borderTop:"1px solid #e5e5e5"},children:Object(J.jsxs)("div",{className:"container",children:[Object(J.jsxs)("span",{className:"text-muted",children:["Mercury \xa9"," ",Object(J.jsx)("a",{style:{textDecoration:"none"},href:"https://mljar.com",target:"_blank",rel:"noreferrer",children:"MLJAR Sp. z o.o."})]}),Object(J.jsx)("span",{className:"text-muted",style:{float:"right"},children:Object(J.jsx)("a",{style:{textDecoration:"none"},href:"https://mljar.com/pricing",target:"_blank",rel:"noreferrer",children:"Check Mercury Pro"})})]})})}function it(e){var t=e.isPro,a=e.username;return Object(J.jsx)("header",{className:"navbar navbar-dark sticky-top bg-dark p-0",children:Object(J.jsxs)("div",{className:"row",style:{width:"100%",paddingRight:"0px"},children:[Object(J.jsx)("div",{className:"col-4"}),Object(J.jsx)("div",{className:"col-4 text-center",children:Object(J.jsx)("a",{href:"/",children:Object(J.jsx)("img",{alt:"Mercury",src:"/static/mercury_logo.svg",style:{height:"40px"}})})}),Object(J.jsxs)("div",{className:"col-4",style:{marginRight:"0px",paddingRight:"0px"},children:[t&&""===a&&Object(J.jsx)(q,{}),t&&""!==a&&Object(J.jsx)(G,{username:a})]})]})})}function ot(e){var t=e.featureName;return Object(J.jsx)("div",{style:{padding:"40px"},children:Object(J.jsxs)("div",{className:"alert alert-primary mb-3",role:"alert",children:[Object(J.jsxs)("h5",{children:[Object(J.jsx)("i",{className:"fa fa-info-circle","aria-hidden":"true"})," This is a Pro feature"," "]}),"You are using an open-source version of the Mercury framework. The",t," is a Pro feature available only for commercial users. Please consider purchasing the Mercury commercial license. It is perpetual and comes with additional features, dedicated support, and allows white-labeling. You can learn more about available licenses on our"," ",Object(J.jsx)("a",{href:"https://mljar.com/pricing",target:"_blank",rel:"noreferrer",children:"website"}),".",Object(J.jsx)("br",{}),Object(J.jsx)("br",{}),Object(J.jsx)("br",{}),Object(J.jsxs)("a",{href:"/",children:[Object(J.jsx)("i",{className:"fa fa-home","aria-hidden":"true"})," Back to home"]})]})})}var lt=Object(o.h)((function(){var e=Object(i.b)(),t=Object(n.useState)(""),a=Object(F.a)(t,2),r=a[0],s=a[1],o=Object(n.useState)(""),l=Object(F.a)(o,2),b=l[0],p=l[1],h=Object(n.useState)(""),m=Object(F.a)(h,2),f=m[0],x=m[1],v=Object(i.c)(A),O=Object(i.c)(I),g=Object(i.c)(S),y=Object(i.c)(C);return document.body.style.backgroundColor="white",Object(n.useEffect)((function(){v&&e(function(){var e=Object(u.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=4,c.a.get("/api/v1/auth/user/");case 4:a=e.sent,n=a.data,t(k(n)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log("Problem during getting user info. ".concat(e.t0));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}())}),[e,v,O]),Object(J.jsxs)("div",{className:"App",children:[Object(J.jsx)(it,{isPro:v,username:g}),!v&&!O&&Object(J.jsx)(ot,{featureName:"account view"}),v&&Object(J.jsx)("div",{className:"container",children:Object(J.jsxs)("div",{className:"mx-auto",style:{width:"700px"},children:[Object(J.jsxs)("div",{className:"row",style:{marginTop:"40px"},children:[Object(J.jsxs)("h2",{children:[Object(J.jsx)("i",{className:"fa fa-user","aria-hidden":"true"})," Account"]}),Object(J.jsxs)("form",{children:[Object(J.jsxs)("div",{className:"mb-3",children:[Object(J.jsx)("label",{className:"form-label",children:"Username"}),Object(J.jsx)("input",{className:"form-control",value:y.username,disabled:!0})]}),Object(J.jsxs)("div",{className:"mb-3",children:[Object(J.jsx)("label",{className:"form-label",children:"First name"}),Object(J.jsx)("input",{className:"form-control",value:y.first_name,disabled:!0})]}),Object(J.jsxs)("div",{className:"mb-3",children:[Object(J.jsx)("label",{className:"form-label",children:"Last name"}),Object(J.jsx)("input",{className:"form-control",value:y.last_name,disabled:!0})]}),Object(J.jsxs)("div",{className:"mb-3",children:[Object(J.jsx)("label",{className:"form-label",children:"Email address"}),Object(J.jsx)("input",{className:"form-control",value:y.email,disabled:!0})]})]})]}),Object(J.jsx)("hr",{}),Object(J.jsxs)("div",{className:"row",children:[Object(J.jsxs)("h2",{children:[Object(J.jsx)("i",{className:"fa fa-key","aria-hidden":"true"})," Change password"]}),Object(J.jsxs)("div",{children:[Object(J.jsxs)("div",{className:"mb-3",children:[Object(J.jsx)("label",{className:"form-label",children:"Old password"}),Object(J.jsx)("input",{type:"password",className:"form-control",value:r,onChange:function(e){return s(e.target.value)}})]}),Object(J.jsxs)("div",{className:"mb-3",children:[Object(J.jsx)("label",{className:"form-label",children:"New password"}),Object(J.jsx)("input",{type:"password",className:"form-control",value:b,onChange:function(e){return p(e.target.value)}})]}),Object(J.jsxs)("div",{className:"mb-3",children:[Object(J.jsx)("label",{className:"form-label",children:"Repeat new password"}),Object(J.jsx)("input",{type:"password",className:"form-control",value:f,onChange:function(e){return x(e.target.value)}})]}),Object(J.jsx)("button",{className:"btn btn-primary",onClick:function(){return e(function(e,t,a){return function(){var n=Object(u.a)(d.a.mark((function n(r){return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=4,c.a.post("/api/v1/auth/password/change/",{old_password:e,new_password1:t,new_password2:a});case 4:j.b.success("Password changed successfully"),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),j.b.error("Password not changed. Problem during password change.");case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}()}(r,b,f))},disabled:""===r||""===b||""===f,children:"Change password"})]})]})]})}),Object(J.jsx)(ct,{})]})})),dt=a(294),ut=a(295),bt=a(154),jt=a(156),pt=Object(o.h)((function(){var e=Object(i.b)(),t=Object(i.c)(ie),a=Object(i.c)(oe),r=Object(i.c)(E),s=Object(i.c)(A),o=Object(i.c)(S),l=Object(i.c)(N);Object(n.useEffect)((function(){e(function(){var e=Object(u.a)(d.a.mark((function e(t){var a,n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(ce("")),t(ne("loading")),e.next=6,c.a.get("/api/v1/notebooks/");case 6:a=e.sent,n=a.data,r=n.map((function(e){var t=JSON.parse(e.params);return Object(X.a)(Object(X.a)({},e),{},{params:t})})),t(ae(r)),t(ne("loaded")),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),t(ne("error")),console.error("Problem during loading recent notebooks. ".concat(e.t0));case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}()),e(function(){var e=Object(u.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=4,c.a.get("/api/v1/welcome/");case 4:a=e.sent,n=a.data,t(M(n.msg)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log("Problem during loading Mercury welcome message. ".concat(e.t0));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}())}),[e,l]);var b=t.map((function(e,t){return Object(J.jsx)("div",{className:"col-md-4",style:{paddingBottom:"20px"},children:Object(J.jsxs)("div",{className:"card",children:[Object(J.jsx)("div",{style:{height:"200px",width:"100%",padding:"1px",overflow:"hidden"},children:Object(J.jsx)("iframe",{className:"thumbnailIframe",width:"200%",height:800,src:"".concat(c.a.defaults.baseURL).concat(e.default_view_path),title:"display",scrolling:"no"})}),Object(J.jsx)("hr",{}),Object(J.jsxs)("div",{className:"card-body",children:[Object(J.jsx)("h5",{className:"card-title",children:e.title}),Object(J.jsx)("p",{className:"card-text",children:e.params.description}),Object(J.jsxs)("a",{href:"/app/".concat(e.id),className:"btn btn-primary",children:["Open ",Object(J.jsx)("i",{className:"fa fa-arrow-right","aria-hidden":"true"})]})]})]})},"notebook-".concat(e.id,"}"))}));return document.body.style.backgroundColor="white",Object(J.jsxs)("div",{className:"App",children:[Object(J.jsx)(it,{isPro:s,username:o}),Object(J.jsxs)("div",{className:"container",style:{paddingBottom:"50px"},children:[""===r&&Object(J.jsx)("h1",{style:{padding:"30px",textAlign:"center"},children:"Welcome!"}),""!==r&&Object(J.jsx)("div",{style:{paddingTop:"20px",paddingBottom:"10px"},children:Object(J.jsx)(dt.a,{rehypePlugins:[bt.a,ut.a,jt.a],children:r})}),Object(J.jsxs)("div",{className:"row",children:["loading"===a&&Object(J.jsx)("p",{children:"Loading notebooks. Please wait ..."}),"loaded"===a&&s&&0===t.length&&Object(J.jsx)("div",{children:Object(J.jsxs)("div",{className:"alert alert-success",role:"alert",children:[Object(J.jsxs)("h5",{children:[Object(J.jsx)("i",{className:"fa fa-key","aria-hidden":"true"})," You are using Pro version"]}),Object(J.jsx)("p",{children:"There are no public notebooks shared. Please login with your credentials to check private notebooks."}),Object(J.jsxs)("a",{href:"/login",className:"btn btn-primary btn-sm ",children:[Object(J.jsx)("i",{className:"fa fa-sign-in","aria-hidden":"true"})," Log in"]})]})}),"loaded"===a&&0===t.length&&Object(J.jsxs)("div",{children:[Object(J.jsx)("p",{children:"There are no notebooks available. Please add notebook to Mercury server."}),Object(J.jsx)("p",{children:"Command to watch notebook development in Mercury (with automatic refresh):"}),Object(J.jsx)("div",{className:"alert alert-primary",role:"alert",children:Object(J.jsxs)("pre",{style:{margin:"0px"},children:["mercury watch ","<path_to_notebook>"]})}),Object(J.jsx)("p",{children:"Command to add notebook to your Mercury server:"}),Object(J.jsx)("div",{className:"alert alert-primary",role:"alert",children:Object(J.jsxs)("pre",{style:{margin:"0px"},children:["mercury add ","<path_to_notebook>"]})})]}),"error"===a&&Object(J.jsx)("p",{children:"Problem while loading notebooks. Please try again later or contact Mercury administrator."}),b]})]}),Object(J.jsx)(ct,{})]})})),ht=Object(o.h)((function(){var e=Object(o.f)(),t=Object(i.b)(),a=Object(n.useState)(""),r=Object(F.a)(a,2),s=r[0],l=r[1],b=Object(n.useState)(""),p=Object(F.a)(b,2),h=p[0],m=p[1],f=Object(i.c)(A),x=Object(i.c)(I);return document.body.style.backgroundColor="#f5f5f5",Object(J.jsxs)("div",{className:"App",children:[Object(J.jsx)(it,{isPro:f,username:""}),!f&&!x&&Object(J.jsx)(ot,{featureName:"authentication"}),f&&Object(J.jsxs)("div",{className:"div-signin text-center",children:[Object(J.jsxs)("form",{className:"form-signin",onSubmit:function(a){a.preventDefault(),a.stopPropagation(),t(function(e,t,a){return function(){var n=Object(u.a)(d.a.mark((function n(r){var s,i,o,l,u,b,p,h;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=4,c.a.post("/api/v1/auth/login/",{username:e,password:t});case 4:s=n.sent,i=s.data,r(y(i.key)),r(w(e)),j.b.success("Log in successfull"),a.push("/"),n.next=18;break;case 12:n.prev=12,n.t0=n.catch(0),u=n.t0,b="Problem during authentication. ",void 0!==(null===(o=u.response)||void 0===o||null===(l=o.data)||void 0===l?void 0:l.non_field_errors)&&(b+=null===(p=u.response)||void 0===p||null===(h=p.data)||void 0===h?void 0:h.non_field_errors),j.b.error(b);case 18:case"end":return n.stop()}}),n,null,[[0,12]])})));return function(e){return n.apply(this,arguments)}}()}(s,h,e))},children:[Object(J.jsx)("h3",{className:"h3 mb-3 font-weight-normal",children:"Please sign in"}),Object(J.jsx)("label",{className:"sr-only",children:"Username"}),Object(J.jsx)("input",{type:"username",id:"inputUsername",className:"form-control",placeholder:"Username",value:s,onChange:function(e){l(e.target.value)},required:!0}),Object(J.jsx)("label",{className:"sr-only",children:"Password"}),Object(J.jsx)("input",{type:"password",id:"inputPassword",className:"form-control",placeholder:"Password",value:h,onChange:function(e){m(e.target.value)},required:!0}),Object(J.jsxs)("button",{className:"btn btn-lg btn-primary btn-block",type:"submit",style:{margin:"5px"},disabled:""===s||""===h,children:[Object(J.jsx)("i",{className:"fa fa-sign-in","aria-hidden":"true"})," Log in"]})]}),Object(J.jsx)("div",{className:"mx-auto",style:{width:"400px",marginTop:"40px"},children:Object(J.jsx)("p",{className:"text-muted",children:"No account? Please contact the service administrator to create the account for you."})})]}),Object(J.jsx)(ct,{})]})}));function mt(e){var t=e.children;return Object(J.jsx)(J.Fragment,{children:t})}function ft(){var e=Object(i.b)();return Object(n.useEffect)((function(){h(),e(function(){var e=Object(u.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=4,c.a.get("/api/v1/version/");case 4:a=e.sent,n=a.data,t(R(n)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log("Problem during loading Mercury version. ".concat(e.t0));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()),localStorage.getItem("token")&&e(y(localStorage.getItem("token"))),localStorage.getItem("username")&&e(w(localStorage.getItem("username")))}),[]),Object(J.jsx)(L.a,{children:Object(J.jsx)(mt,{children:Object(J.jsxs)(o.c,{children:[Object(J.jsx)(o.a,{exact:!0,path:"/",component:pt}),Object(J.jsx)(o.a,{exact:!0,path:"/app/:notebook_id/:embed?",component:st}),Object(J.jsx)(o.a,{exact:!0,path:"/login",component:ht}),Object(J.jsx)(o.a,{exact:!0,path:"/account",component:lt})]})})})}var xt=function(e){var t=e.store;e.history;return Object(J.jsx)(i.a,{store:t,children:Object(J.jsx)(ft,{})})},vt=a(12),Ot=a(153),gt=a(23);var yt,wt=Object(Ot.a)(),kt=Object(gt.b)({notebooks:ee,tasks:he,widgets:ge,version:T,app:H,auth:O}),Nt=Object(vt.a)(Object(b.c)()),St=(a(266),a(267),a(272),a(273),a(274),a(275),a(276),a(277),Object(b.a)({reducer:kt,middleware:Nt,preloadedState:yt}));"http://localhost:3000"===window.location.origin?c.a.defaults.baseURL="http://127.0.0.1:8000":c.a.defaults.baseURL=window.location.origin,"https://hf.space"===window.location.origin&&(c.a.defaults.baseURL=window.location.href),document.addEventListener("DOMContentLoaded",(function(){return Object(r.render)(Object(J.jsxs)("div",{children:[Object(J.jsx)(xt,{store:St,history:wt}),Object(J.jsx)(j.a,{position:"top-right",autoClose:3e3,hideProgressBar:!0,newestOnTop:!0,closeOnClick:!0,pauseOnHover:!0})]}),document.getElementById("root"))}))}},[[279,1,2]]]);
//# sourceMappingURL=main.698412dc.chunk.js.map