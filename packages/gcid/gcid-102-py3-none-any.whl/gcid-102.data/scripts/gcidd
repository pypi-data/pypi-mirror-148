#!python
# This file is placed in the Public Domain.


"Prosecutor. Reconsider. OTP-CR-117/19."


import os
import readline
import sys
import time


from gcid.obj import Object, get, keys, update
from gcid.obj import Class, Config, Db, find, fntime, last, save
from gcid.obj import edit, format, register
from gcid.cbs import Callbacks
from gcid.cmd import Commands, dispatch
from gcid.shl import Shell
from gcid.exc import cprint, daemon,wait, wrap
from gcid.irc import IRC
from gcid.scn import init, introspect, scan


import gcid.all
import gcid.cmds


from gcid.mdl import init


Config.name = "gcid"
Config.workdir = "/var/lib/gcid/"


def cmd(event):
    event.reply(",".join(sorted(Commands.cmd)))


Commands.add(cmd)


def main():
    Callbacks.add("command", dispatch)
    i = IRC()
    i.start()
    init()
    wait()


main()
