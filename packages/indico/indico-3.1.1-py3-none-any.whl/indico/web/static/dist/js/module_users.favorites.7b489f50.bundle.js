(self.webpackChunk=self.webpackChunk||[]).push([[2166],{98747:(e,a,t)=>{"use strict";var s=t(20011),i=t(63025),n=t(81473),r=t.n(n),l=t(9086),c=t.n(l),m=t(60216),d=t.n(m),o=t(32735),_=t(12788),u=t(41612),v=t(75723),y=t(59965),E=t(37314),D=t(67986),f=t(44409),g=t(892),p=t(43146),N=t(19306),b=t(59090);const j=i.ZP.bind(null,{endpoint:"users.user_favorites_category_api",rules:[{args:["category_id","user_id"],converters:{category_id:"IntegerConverter",user_id:"IntegerConverter"},defaults:{},trace:[{data:"|",isDynamic:!1},{data:"/",isDynamic:!1},{data:"user",isDynamic:!1},{data:"/",isDynamic:!1},{data:"user_id",isDynamic:!0},{data:"/",isDynamic:!1},{data:"api",isDynamic:!1},{data:"/",isDynamic:!1},{data:"favorites",isDynamic:!1},{data:"/",isDynamic:!1},{data:"categories",isDynamic:!1},{data:"/",isDynamic:!1},{data:"category_id",isDynamic:!0}]},{args:["user_id"],converters:{user_id:"IntegerConverter"},defaults:{},trace:[{data:"|",isDynamic:!1},{data:"/",isDynamic:!1},{data:"user",isDynamic:!1},{data:"/",isDynamic:!1},{data:"user_id",isDynamic:!0},{data:"/",isDynamic:!1},{data:"api",isDynamic:!1},{data:"/",isDynamic:!1},{data:"favorites",isDynamic:!1},{data:"/",isDynamic:!1},{data:"categories",isDynamic:!1}]},{args:["category_id"],converters:{category_id:"IntegerConverter"},defaults:{},trace:[{data:"|",isDynamic:!1},{data:"/",isDynamic:!1},{data:"user",isDynamic:!1},{data:"/",isDynamic:!1},{data:"api",isDynamic:!1},{data:"/",isDynamic:!1},{data:"favorites",isDynamic:!1},{data:"/",isDynamic:!1},{data:"categories",isDynamic:!1},{data:"/",isDynamic:!1},{data:"category_id",isDynamic:!0}]},{args:[],converters:{},defaults:{},trace:[{data:"|",isDynamic:!1},{data:"/",isDynamic:!1},{data:"user",isDynamic:!1},{data:"/",isDynamic:!1},{data:"api",isDynamic:!1},{data:"/",isDynamic:!1},{data:"favorites",isDynamic:!1},{data:"/",isDynamic:!1},{data:"categories",isDynamic:!1}]}]},"/");function I(e){let{userId:a}=e;return o.createElement(o.Fragment,null,o.createElement(k,{userId:a}),o.createElement(F,{userId:a}))}function F(e){let{userId:a}=e;const[t,s]=(0,o.useState)(null),[i,n]=(0,o.useState)(!0),r=(0,o.useCallback)((async()=>{let e;try{e=await b.l2.get(j(null!==a?{user_id:a}:{}))}catch(e){return void(0,b.zZ)(e)}s(e.data),n(!1)}),[a]);(0,o.useEffect)((()=>{r()}),[r]);return o.createElement("div",{className:"column col-50"},o.createElement("div",{className:"i-box just-group-list"},o.createElement("div",{className:"i-box-header"},o.createElement("div",{className:"i-box-title"},o.createElement(N.vN,null,"Favorite Categories"))),o.createElement("div",{className:"i-box-content"},i?o.createElement(u.Z,{active:!0,inline:!0,className:"users-client-js-___Favorites-module__fav-loader___9Opw1"}):null!==t&&Object.keys(t).length>0?o.createElement(v.Z,{celled:!0,className:"users-client-js-___Favorites-module__fav-list___KFdnj"},Object.values(t).map((e=>o.createElement(v.Z.Item,{key:e.id,className:"users-client-js-___Favorites-module__fav-item___FxbQW"},o.createElement(v.Z.Content,null,o.createElement("div",{className:"users-client-js-___Favorites-module__list-flex___Pvha0"},o.createElement("div",null,o.createElement("a",{href:e.url,target:"_blank",rel:"noopener noreferrer"},e.title),o.createElement("br",null),o.createElement(f.Tm,null,o.createElement("span",{className:"users-client-js-___Favorites-module__detail___IlIkm"},e.chain_titles.slice(0,-1).join(" Â» ")))),o.createElement(y.Z,{trigger:o.createElement(E.Z,{className:"users-client-js-___Favorites-module__delete-button___wFq64",name:"close",onClick:()=>(async e=>{try{await b.l2.delete(j({category_id:e}))}catch(e){return void(0,b.zZ)(e)}s((a=>c()(a,e)))})(e.id),link:!0}),content:N.vN.string("Remove from favorites"),position:"bottom center"}))))))):o.createElement("div",{className:"users-client-js-___Favorites-module__empty-favorites___7j0mT"},o.createElement(N.vN,null,"You have not marked any category as favorite.")))))}function k(e){let{userId:a}=e;const[t,[i,n],l]=(0,p.jZ)(a);return o.createElement("div",{className:"column col-50"},o.createElement("div",{className:"i-box just-group-list"},o.createElement("div",{className:"i-box-header"},o.createElement("div",{className:"i-box-title"},o.createElement(N.vN,null,"Favorite Users"))),o.createElement("div",{className:"i-box-content"},l?o.createElement(u.Z,{active:!0,inline:!0,className:"users-client-js-___Favorites-module__fav-loader___9Opw1"}):null!==t&&Object.keys(t).length>0?o.createElement(v.Z,{celled:!0,className:"users-client-js-___Favorites-module__fav-list___KFdnj"},Object.values(r()(t,["name"])).map((e=>o.createElement(v.Z.Item,{key:e.identifier,className:"users-client-js-___Favorites-module__fav-item___FxbQW"},o.createElement("div",{className:"users-client-js-___Favorites-module__list-flex___Pvha0"},o.createElement("div",null,o.createElement("span",null,e.name),o.createElement("br",null),o.createElement(f.Tm,null,o.createElement("span",{className:"users-client-js-___Favorites-module__detail___IlIkm"},e.detail))),o.createElement(y.Z,{trigger:o.createElement(E.Z,{className:"users-client-js-___Favorites-module__delete-button___wFq64",name:"close",onClick:()=>n(e.userId),link:!0}),content:N.vN.string("Remove from favorites"),position:"bottom center"})))))):o.createElement("div",{className:"users-client-js-___Favorites-module__empty-favorites___7j0mT"},o.createElement(N.vN,null,"You have not marked any user as favorite.")))),o.createElement(g.PS,{existing:Object.values(t).map((e=>e.identifier)),onAddItems:e=>e.forEach((e=>i(e.userId))),triggerFactory:e=>o.createElement(D.Z,(0,s.Z)({},e,{className:"users-client-js-___Favorites-module__submit-button___AeA4z "+(e&&e.className||"")}),o.createElement(N.vN,null,"Add Indico user"))}))}window.setupFavoriteSelection=function(e){_.render(o.createElement(I,{userId:e}),document.getElementById("user-favorites"))},I.propTypes={userId:d().number},I.defaultProps={userId:null},F.propTypes={userId:d().number},F.defaultProps={userId:null},k.propTypes={userId:d().number},k.defaultProps={userId:null}},81473:(e,a,t)=>{var s=t(50690),i=t(77236);e.exports=function(e,a,t,n){return null==e?[]:(i(a)||(a=null==a?[]:[a]),i(t=n?void 0:t)||(t=null==t?[]:[t]),s(e,a,t))}}},e=>{e.O(0,[5514,3044,8592],(()=>{return a=98747,e(e.s=a);var a}));e.O()}]);
//# sourceMappingURL=module_users.favorites.7b489f50.bundle.js.map