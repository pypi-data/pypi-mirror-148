"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[9691],{69266:(e,t,s)=>{s(95499);var o=s(32735),n=s(12788),a=s(44409),i=s(19306);document.addEventListener("DOMContentLoaded",(()=>{const e=document.querySelector("#session-calendar-link");if(!e)return;const{eventId:t,sessionId:s,sessionContribCount:r}=e.dataset,c=[{key:"session",text:i.vN.string("Session"),extraParams:{}}];parseInt(r,10)>0&&c.push({key:"contribution",text:i.vN.string("Detailed timetable"),extraParams:{detail:"contributions"}}),n.render(o.createElement(a.Os,{endpoint:"sessions.export_ics",params:{event_id:t,session_id:s},renderButton:e=>o.createElement(a.Lp,{icon:"calendar",classes:e}),options:c}),e)}));var r=s(21161).default;!function(e){function t(){$("#sessions .tablesorter").tablesorter({cssAsc:"header-sort-asc",cssDesc:"header-sort-desc",cssInfoBlock:"avoid-sort",cssChildRow:"session-blocks-row",headerTemplate:"",sortList:[[1,0]]})}function s(){$(".palette-picker-trigger").each((function(){const e=$(this);e.palettepicker({availableColors:e.data("colors"),selectedColor:e.data("color"),onSelect(e,t){$.ajax({url:$(this).data("href"),method:$(this).data("method"),data:JSON.stringify({colors:{text:t,background:e}}),dataType:"json",contentType:"application/json",error:handleAjaxError,complete:IndicoUI.Dialogs.Util.progress()})}})}))}const o={itemHandle:"tr",listItems:"#sessions-wrapper tr.session-row",term:"#search-input",state:"#filtering-state",placeholder:"#filter-placeholder"};e.setupSessionsList=function(e){var n;e=$.extend({createTypeURL:null},e),n=e.createTypeURL,$("#sessions").on("click",".session-type-picker",(function(){$(this).itempicker({filterPlaceholder:$T.gettext("Filter types"),containerClasses:"session-type-container",uncheckedItemIcon:"",footerElements:[{title:$T.gettext("Add new type"),onClick(e){ajaxDialog({title:$T.gettext("Add new type"),url:n,onClose(t){t&&($(".session-type-picker").each((function(){const e=$(this);e.data("indicoItempicker")?e.itempicker("updateItemList",t.types):e.data("items",t.types)})),e.itempicker("selectItem",t.new_type_id))}})}}],onSelect(e){const t=$(this),s={type_id:e?e.id:null};return(o=t.data("href"),n=t.data("method"),a=s,$.ajax({url:o,method:n,data:JSON.stringify(a),dataType:"json",contentType:"application/json",error:handleAjaxError,complete:IndicoUI.Dialogs.Util.progress()})).then((function(){const s=e?e.title:$T.gettext("No type");t.find(".label").text(s)}));var o,n,a}})})),enableIfChecked("#sessions-wrapper",".select-row","#sessions .js-requires-selected-row"),t(),s(),handleRowSelection(!1);const a=setupSearchBox(o);$("#sessions .toolbar").on("click",".disabled",(function(e){e.preventDefault(),e.stopPropagation()})),$("#sessions-wrapper").on("indico:htmlUpdated",(function(){t(),s(),handleRowSelection(!0),r.defer(a)})).on("click",".show-session-blocks",(function(){const e=$(this);ajaxDialog({title:e.data("title"),url:e.data("href")})})).on("attachments:updated",(function(e){const t=$(e.target);reloadManagementAttachmentInfoColumn(t.data("locator"),t.closest("td"))})),$(".js-submit-session-form").on("click",(function(e){e.preventDefault();const t=$(this);t.hasClass("disabled")||$("#sessions-wrapper form").attr("action",t.data("href")).submit()}))}}(window)}},e=>{e.O(0,[5514,3044,8592],(()=>{return t=69266,e(e.s=t);var t}));e.O()}]);
//# sourceMappingURL=module_events.sessions.8377a1af.bundle.js.map