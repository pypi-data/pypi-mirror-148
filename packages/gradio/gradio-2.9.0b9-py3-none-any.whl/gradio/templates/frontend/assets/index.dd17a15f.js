import{S as G,i as H,s as K,o as B,k as j,j as M,q as V,b,x as L,v as g,y as P,u as k,w as z,h as p,z as A,D as w,e as N,d as S,a as m,f as h,g as D,F as I,l as q,r as J,n as O,B as Y,H as Z,E as x,I as $,X as ee}from"./index.3c784113.js";import{B as Q}from"./Block.1239058b.js";import{n as le}from"./utils.49185b04.js";import{B as R,U as te}from"./BlockLabel.70e6bfff.js";import{M as ne}from"./ModifyUpload.174395aa.js";import{W as ae}from"./Image.svelte_svelte_type_style_lang.47cf31b6.js";import{S as oe}from"./StatusTracker.eec9373b.js";import"./_commonjsHelpers.80d8c10d.js";const X=a=>{let e=["B","KB","MB","GB","PB"],t=0;for(;a>1024;)a/=1024,t++;let l=e[t];return a.toFixed(1)+" "+l},ie=a=>!0;var T="./assets/video.5c567403.svg";function re(a){let e,t,l,n,r;e=new ne({}),e.$on("clear",a[8]);function u(f,i){if(i&1&&(l=null),l==null&&(l=!!ie(f[0].name)),l)return se;if(f[0].size)return fe}let s=u(a,-1),o=s&&s(a);return{c(){B(e.$$.fragment),t=j(),o&&o.c(),n=M()},m(f,i){V(e,f,i),b(f,t,i),o&&o.m(f,i),b(f,n,i),r=!0},p(f,i){s===(s=u(f,i))&&o?o.p(f,i):(o&&o.d(1),o=s&&s(f),o&&(o.c(),o.m(n.parentNode,n)))},i(f){r||(k(e.$$.fragment,f),r=!0)},o(f){g(e.$$.fragment,f),r=!1},d(f){z(e,f),f&&p(t),o&&o.d(f),f&&p(n)}}}function ue(a){let e,t,l,n;const r=[_e,ce],u=[];function s(o,f){return o[1]==="upload"?0:o[1]==="webcam"?1:-1}return~(e=s(a))&&(t=u[e]=r[e](a)),{c(){t&&t.c(),l=M()},m(o,f){~e&&u[e].m(o,f),b(o,l,f),n=!0},p(o,f){let i=e;e=s(o),e===i?~e&&u[e].p(o,f):(t&&(L(),g(u[i],1,1,()=>{u[i]=null}),P()),~e?(t=u[e],t?t.p(o,f):(t=u[e]=r[e](o),t.c()),k(t,1),t.m(l.parentNode,l)):t=null)},i(o){n||(k(t),n=!0)},o(o){g(t),n=!1},d(o){~e&&u[e].d(o),o&&p(l)}}}function fe(a){let e,t=a[0].name+"",l,n,r,u=X(a[0].size)+"",s;return{c(){e=N("div"),l=S(t),n=j(),r=N("div"),s=S(u),m(e,"class","file-name text-4xl p-6 break-all"),m(r,"class","file-size text-2xl p-2")},m(o,f){b(o,e,f),h(e,l),b(o,n,f),b(o,r,f),h(r,s)},p(o,f){f&1&&t!==(t=o[0].name+"")&&D(l,t),f&1&&u!==(u=X(o[0].size)+"")&&D(s,u)},d(o){o&&p(e),o&&p(n),o&&p(r)}}}function se(a){let e,t,l,n;return{c(){e=N("video"),m(e,"class","w-full h-full object-contain bg-black"),e.controls=!0,e.playsInline=!0,m(e,"preload","auto"),I(e.src,t=a[0].data)||m(e,"src",t)},m(r,u){b(r,e,u),l||(n=[q(e,"play",a[10]),q(e,"pause",a[11]),q(e,"ended",a[12])],l=!0)},p(r,u){u&1&&!I(e.src,t=r[0].data)&&m(e,"src",t)},d(r){r&&p(e),l=!1,J(n)}}}function ce(a){let e,t;return e=new ae({props:{mode:"video"}}),e.$on("capture",a[14]),{c(){B(e.$$.fragment)},m(l,n){V(e,l,n),t=!0},p:O,i(l){t||(k(e.$$.fragment,l),t=!0)},o(l){g(e.$$.fragment,l),t=!1},d(l){z(e,l)}}}function _e(a){let e,t,l;function n(u){a[13](u)}let r={filetype:"video/mp4,video/x-m4v,video/*",$$slots:{default:[de]},$$scope:{ctx:a}};return a[6]!==void 0&&(r.dragging=a[6]),e=new te({props:r}),Y.push(()=>Z(e,"dragging",n)),e.$on("load",a[7]),{c(){B(e.$$.fragment)},m(u,s){V(e,u,s),l=!0},p(u,s){const o={};s&65592&&(o.$$scope={dirty:s,ctx:u}),!t&&s&64&&(t=!0,o.dragging=u[6],x(()=>t=!1)),e.$set(o)},i(u){l||(k(e.$$.fragment,u),l=!0)},o(u){g(e.$$.fragment,u),l=!1},d(u){z(e,u)}}}function de(a){let e,t,l,n,r,u,s,o,f;return{c(){e=N("div"),t=S(a[3]),l=j(),n=N("span"),r=S("- "),u=S(a[4]),s=S(" -"),o=j(),f=S(a[5]),m(n,"class","text-gray-300"),m(e,"class","flex flex-col")},m(i,_){b(i,e,_),h(e,t),h(e,l),h(e,n),h(n,r),h(n,u),h(n,s),h(e,o),h(e,f)},p(i,_){_&8&&D(t,i[3]),_&16&&D(u,i[4]),_&32&&D(f,i[5])},d(i){i&&p(e)}}}function me(a){let e,t,l,n,r,u;e=new R({props:{image:T,label:a[2]||"Video"}});const s=[ue,re],o=[];function f(i,_){return i[0]===null?0:1}return l=f(a),n=o[l]=s[l](a),{c(){B(e.$$.fragment),t=j(),n.c(),r=M()},m(i,_){V(e,i,_),b(i,t,_),o[l].m(i,_),b(i,r,_),u=!0},p(i,[_]){const y={};_&4&&(y.label=i[2]||"Video"),e.$set(y);let v=l;l=f(i),l===v?o[l].p(i,_):(L(),g(o[v],1,1,()=>{o[v]=null}),P(),n=o[l],n?n.p(i,_):(n=o[l]=s[l](i),n.c()),k(n,1),n.m(r.parentNode,r))},i(i){u||(k(e.$$.fragment,i),k(n),u=!0)},o(i){g(e.$$.fragment,i),g(n),u=!1},d(i){z(e,i),i&&p(t),o[l].d(i),i&&p(r)}}}function be(a,e,t){let{value:l=null}=e,{source:n}=e,{label:r=void 0}=e,{style:u=""}=e,{drop_text:s="Drop a video file"}=e,{or_text:o="or"}=e,{upload_text:f="click to upload"}=e;const i=A();function _({detail:c}){i("change",c),t(0,l=c)}function y({detail:c}){t(0,l=null),i("change",c),i("clear")}let v=!1;function U(c){w.call(this,a,c)}function C(c){w.call(this,a,c)}function E(c){w.call(this,a,c)}function F(c){v=c,t(6,v)}const W=({detail:c})=>t(0,l=c);return a.$$set=c=>{"value"in c&&t(0,l=c.value),"source"in c&&t(1,n=c.source),"label"in c&&t(2,r=c.label),"style"in c&&t(9,u=c.style),"drop_text"in c&&t(3,s=c.drop_text),"or_text"in c&&t(4,o=c.or_text),"upload_text"in c&&t(5,f=c.upload_text)},a.$$.update=()=>{a.$$.dirty&64&&i("drag",v)},[l,n,r,s,o,f,v,_,y,u,U,C,E,F,W]}class ge extends G{constructor(e){super(),H(this,e,be,me,K,{value:0,source:1,label:2,style:9,drop_text:3,or_text:4,upload_text:5})}}function ke(a){let e,t,l,n;return{c(){e=N("video"),m(e,"class","w-full h-full object-contain bg-black"),e.controls=!0,e.playsInline=!0,m(e,"preload","auto"),I(e.src,t=a[0].data)||m(e,"src",t)},m(r,u){b(r,e,u),l||(n=[q(e,"play",a[3]),q(e,"pause",a[4]),q(e,"ended",a[5])],l=!0)},p(r,u){u&1&&!I(e.src,t=r[0].data)&&m(e,"src",t)},d(r){r&&p(e),l=!1,J(n)}}}function pe(a){let e,t,l;return{c(){e=N("div"),t=N("img"),I(t.src,l=T)||m(t,"src",l),m(t,"alt",""),m(t,"class","h-6 opacity-20"),m(e,"class","min-h-[16rem] flex justify-center items-center")},m(n,r){b(n,e,r),h(e,t)},p:O,d(n){n&&p(e)}}}function ve(a){let e,t,l,n;e=new R({props:{image:T,label:a[1]||"Video"}});function r(o,f){return o[0]===null?pe:ke}let u=r(a),s=u(a);return{c(){B(e.$$.fragment),t=j(),s.c(),l=M()},m(o,f){V(e,o,f),b(o,t,f),s.m(o,f),b(o,l,f),n=!0},p(o,f){const i={};f&2&&(i.label=o[1]||"Video"),e.$set(i),u===(u=r(o))&&s?s.p(o,f):(s.d(1),s=u(o),s&&(s.c(),s.m(l.parentNode,l)))},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){g(e.$$.fragment,o),n=!1},d(o){z(e,o),o&&p(t),s.d(o),o&&p(l)}}}function he(a){let e,t;return e=new Q({props:{variant:"solid",color:"grey",padding:!1,$$slots:{default:[ve]},$$scope:{ctx:a}}}),{c(){B(e.$$.fragment)},m(l,n){V(e,l,n),t=!0},p(l,[n]){const r={};n&131&&(r.$$scope={dirty:n,ctx:l}),e.$set(r)},i(l){t||(k(e.$$.fragment,l),t=!0)},o(l){g(e.$$.fragment,l),t=!1},d(l){z(e,l)}}}function ye(a,e,t){let{value:l=null}=e,{label:n=void 0}=e,{style:r=""}=e;const u=A();function s(i){w.call(this,a,i)}function o(i){w.call(this,a,i)}function f(i){w.call(this,a,i)}return a.$$set=i=>{"value"in i&&t(0,l=i.value),"label"in i&&t(1,n=i.label),"style"in i&&t(2,r=i.style)},a.$$.update=()=>{a.$$.dirty&1&&l&&u("change",l)},[l,n,r,s,o,f]}class we extends G{constructor(e){super(),H(this,e,ye,he,K,{value:0,label:1,style:2})}}function Be(a){let e,t;return e=new ge({props:{value:a[6],label:a[1],style:a[2],source:a[3],drop_text:a[8]("interface.drop_video"),or_text:a[8]("or"),upload_text:a[8]("interface.click_to_upload")}}),e.$on("change",a[11]),e.$on("drag",a[12]),e.$on("change",a[13]),e.$on("clear",a[14]),e.$on("play",a[15]),e.$on("pause",a[16]),{c(){B(e.$$.fragment)},m(l,n){V(e,l,n),t=!0},p(l,n){const r={};n&64&&(r.value=l[6]),n&2&&(r.label=l[1]),n&4&&(r.style=l[2]),n&8&&(r.source=l[3]),n&256&&(r.drop_text=l[8]("interface.drop_video")),n&256&&(r.or_text=l[8]("or")),n&256&&(r.upload_text=l[8]("interface.click_to_upload")),e.$set(r)},i(l){t||(k(e.$$.fragment,l),t=!0)},o(l){g(e.$$.fragment,l),t=!1},d(l){z(e,l)}}}function Ve(a){let e,t;return e=new we({props:{value:a[6],label:a[1],style:a[2]}}),{c(){B(e.$$.fragment)},m(l,n){V(e,l,n),t=!0},p(l,n){const r={};n&64&&(r.value=l[6]),n&2&&(r.label=l[1]),n&4&&(r.style=l[2]),e.$set(r)},i(l){t||(k(e.$$.fragment,l),t=!0)},o(l){g(e.$$.fragment,l),t=!1},d(l){z(e,l)}}}function ze(a){let e,t,l,n,r,u;e=new oe({props:{tracked_status:a[4]}});const s=[Ve,Be],o=[];function f(i,_){return i[5]==="static"?0:1}return l=f(a),n=o[l]=s[l](a),{c(){B(e.$$.fragment),t=j(),n.c(),r=M()},m(i,_){V(e,i,_),b(i,t,_),o[l].m(i,_),b(i,r,_),u=!0},p(i,_){const y={};_&16&&(y.tracked_status=i[4]),e.$set(y);let v=l;l=f(i),l===v?o[l].p(i,_):(L(),g(o[v],1,1,()=>{o[v]=null}),P(),n=o[l],n?n.p(i,_):(n=o[l]=s[l](i),n.c()),k(n,1),n.m(r.parentNode,r))},i(i){u||(k(e.$$.fragment,i),k(n),u=!0)},o(i){g(e.$$.fragment,i),g(n),u=!1},d(i){z(e,i),i&&p(t),o[l].d(i),i&&p(r)}}}function Ne(a){let e,t;return e=new Q({props:{variant:a[5]==="dynamic"&&a[0]===null&&a[3]==="upload"?"dashed":"solid",color:a[7]?"green":"grey",padding:!1,$$slots:{default:[ze]},$$scope:{ctx:a}}}),{c(){B(e.$$.fragment)},m(l,n){V(e,l,n),t=!0},p(l,[n]){const r={};n&41&&(r.variant=l[5]==="dynamic"&&l[0]===null&&l[3]==="upload"?"dashed":"solid"),n&128&&(r.color=l[7]?"green":"grey"),n&131583&&(r.$$scope={dirty:n,ctx:l}),e.$set(r)},i(l){t||(k(e.$$.fragment,l),t=!0)},o(l){g(e.$$.fragment,l),t=!1},d(l){z(e,l)}}}function Se(a,e,t){let l;$(a,ee,d=>t(8,l=d));let{value:n=null}=e,{label:r}=e,{default_value:u}=e,{style:s=""}=e,{source:o}=e,{root:f}=e,{loading_status:i}=e,{mode:_}=e;u&&(n=u);let y,v=!1;const U=({detail:d})=>t(0,n=d),C=({detail:d})=>t(7,v=d);function E(d){w.call(this,a,d)}function F(d){w.call(this,a,d)}function W(d){w.call(this,a,d)}function c(d){w.call(this,a,d)}return a.$$set=d=>{"value"in d&&t(0,n=d.value),"label"in d&&t(1,r=d.label),"default_value"in d&&t(9,u=d.default_value),"style"in d&&t(2,s=d.style),"source"in d&&t(3,o=d.source),"root"in d&&t(10,f=d.root),"loading_status"in d&&t(4,i=d.loading_status),"mode"in d&&t(5,_=d.mode)},a.$$.update=()=>{a.$$.dirty&1025&&t(6,y=le(n,f))},[n,r,s,o,i,_,y,v,l,u,f,U,C,E,F,W,c]}class je extends G{constructor(e){super(),H(this,e,Se,Ne,K,{value:0,label:1,default_value:9,style:2,source:3,root:10,loading_status:4,mode:5})}}var We=je;const Ge=["static","dynamic"];export{We as Component,Ge as modes};
