import{S as A,i as F,s as G,j as P,b as _,n as M,h as d,e as m,a as u,R as O,d as k,k as b,f as g,g as v,m as N,o as j,q as S,u as T,v as C,w as H,z as Q}from"./index.590afc46.js";import{B as U}from"./Block.e24ed538.js";import{S as V}from"./StatusTracker.bd9fca4a.js";function w(s,e){return Math.floor(Math.random()*(e-s)+s)}const X=(s,e=1)=>{let a=[[255,99,132],[54,162,235],[240,176,26],[153,102,255],[75,192,192],[255,159,64],[194,88,74],[44,102,219],[44,163,23],[191,46,217],[160,162,162],[163,151,27]];if(s<a.length)var t=a[s];else var t=[w(64,196),w(64,196),w(64,196)];return"rgba("+t[0]+", "+t[1]+", "+t[2]+", "+e+")"};function R(s,e,a){const t=s.slice();return t[7]=e[a][0],t[14]=e[a][1],t}function q(s,e,a){const t=s.slice();return t[7]=e[a][0],t[8]=e[a][1],t}function B(s,e,a){const t=s.slice();return t[8]=e[a][0],t[11]=e[a][1],t[13]=a,t}function Y(s){let e,a,t=s[2]&&D(),o=s[1],l=[];for(let n=0;n<o.length;n+=1)l[n]=E(R(s,o,n));return{c(){t&&t.c(),e=b(),a=m("div");for(let n=0;n<l.length;n+=1)l[n].c();u(a,"class","textfield p-2 bg-white dark:bg-gray-800 rounded box-border max-w-full break-word")},m(n,i){t&&t.m(n,i),_(n,e,i),_(n,a,i);for(let r=0;r<l.length;r+=1)l[r].m(a,null)},p(n,i){if(n[2]?t||(t=D(),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null),i&2){o=n[1];let r;for(r=0;r<o.length;r+=1){const c=R(n,o,r);l[r]?l[r].p(c,i):(l[r]=E(c),l[r].c(),l[r].m(a,null))}for(;r<l.length;r+=1)l[r].d(1);l.length=o.length}},d(n){t&&t.d(n),n&&d(e),n&&d(a),N(l,n)}}}function Z(s){let e,a,t=s[2]&&I(s),o=s[1],l=[];for(let n=0;n<o.length;n+=1)l[n]=W(q(s,o,n));return{c(){t&&t.c(),e=b(),a=m("div");for(let n=0;n<l.length;n+=1)l[n].c();u(a,"class","textfield bg-white dark:bg-gray-800 rounded box-border max-w-full break-word inline-flex flex-wrap gap-1")},m(n,i){t&&t.m(n,i),_(n,e,i),_(n,a,i);for(let r=0;r<l.length;r+=1)l[r].m(a,null)},p(n,i){if(n[2]?t?t.p(n,i):(t=I(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null),i&7){o=n[1];let r;for(r=0;r<o.length;r+=1){const c=q(n,o,r);l[r]?l[r].p(c,i):(l[r]=W(c),l[r].c(),l[r].m(a,null))}for(;r<l.length;r+=1)l[r].d(1);l.length=o.length}},d(n){t&&t.d(n),n&&d(e),n&&d(a),N(l,n)}}}function D(s){let e;return{c(){e=m("div"),e.innerHTML=`<span>-1</span> 
			<span>0</span> 
			<span>+1</span>`,u(e,"class","color_legend flex px-2 py-1 justify-between rounded mb-3 font-semibold"),O(e,"background","-webkit-linear-gradient(to right,#8d83d6,(255,255,255,0),#eb4d4b)"),O(e,"background","linear-gradient(to right,#8d83d6,rgba(255,255,255,0),#eb4d4b)")},m(a,t){_(a,e,t)},d(a){a&&d(e)}}}function E(s){let e,a,t=s[7]+"",o,l,n;return{c(){e=m("span"),a=m("span"),o=k(t),l=b(),u(a,"class","text dark:text-white"),u(e,"class","textspan p-1 mr-0.5 bg-opacity-20 dark:bg-opacity-80 rounded-sm"),u(e,"style",n="background-color: rgba("+(s[14]<0?"141, 131, 214,"+-s[14]:"235, 77, 75,"+s[14])+")")},m(i,r){_(i,e,r),g(e,a),g(a,o),g(e,l)},p(i,r){r&2&&t!==(t=i[7]+"")&&v(o,t),r&2&&n!==(n="background-color: rgba("+(i[14]<0?"141, 131, 214,"+-i[14]:"235, 77, 75,"+i[14])+")")&&u(e,"style",n)},d(i){i&&d(e)}}}function I(s){let e,a=Object.entries(s[0]),t=[];for(let o=0;o<a.length;o+=1)t[o]=z(B(s,a,o));return{c(){e=m("div");for(let o=0;o<t.length;o+=1)t[o].c();u(e,"class","category-legend flex flex-wrap gap-1 mb-2")},m(o,l){_(o,e,l);for(let n=0;n<t.length;n+=1)t[n].m(e,null)},p(o,l){if(l&1){a=Object.entries(o[0]);let n;for(n=0;n<a.length;n+=1){const i=B(o,a,n);t[n]?t[n].p(i,l):(t[n]=z(i),t[n].c(),t[n].m(e,null))}for(;n<t.length;n+=1)t[n].d(1);t.length=a.length}},d(o){o&&d(e),N(t,o)}}}function z(s){let e,a=s[8]+"",t,o,l;return{c(){e=m("div"),t=k(a),o=b(),u(e,"class","category-label px-2 rounded text-white font-semibold"),u(e,"style",l="background-color:"+s[11])},m(n,i){_(n,e,i),g(e,t),g(e,o)},p(n,i){i&1&&a!==(a=n[8]+"")&&v(t,a),i&1&&l!==(l="background-color:"+n[11])&&u(e,"style",l)},d(n){n&&d(e)}}}function L(s){let e,a=s[8]+"",t,o;return{c(){e=m("span"),t=k(a),u(e,"class","inline-category text-xs text-white rounded-sm px-1"),u(e,"style",o=s[8]===null?"":`background-color: ${s[0][s[8]]}`)},m(l,n){_(l,e,n),g(e,t)},p(l,n){n&2&&a!==(a=l[8]+"")&&v(t,a),n&3&&o!==(o=l[8]===null?"":`background-color: ${l[0][l[8]]}`)&&u(e,"style",o)},d(l){l&&d(e)}}}function W(s){let e,a,t=s[7]+"",o,l,n,i,r=!s[2]&&s[8]!==null&&L(s);return{c(){e=m("span"),a=m("span"),o=k(t),l=b(),r&&r.c(),n=b(),u(a,"class","text dark:text-white"),u(e,"class","textspan bg-opacity-10 rounded inline-flex items-center px-1.5 space-x-1.5"),u(e,"style",i=s[8]===null?"":`color: ${s[0][s[8]]}; background-color: ${s[0][s[8]].replace("1)","var(--tw-bg-opacity))")}`)},m(c,f){_(c,e,f),g(e,a),g(a,o),g(e,l),r&&r.m(e,null),g(e,n)},p(c,f){f&2&&t!==(t=c[7]+"")&&v(o,t),!c[2]&&c[8]!==null?r?r.p(c,f):(r=L(c),r.c(),r.m(e,n)):r&&(r.d(1),r=null),f&3&&i!==(i=c[8]===null?"":`color: ${c[0][c[8]]}; background-color: ${c[0][c[8]].replace("1)","var(--tw-bg-opacity))")}`)&&u(e,"style",i)},d(c){c&&d(e),r&&r.d()}}}function x(s){let e;function a(l,n){return l[3]==="categories"?Z:Y}let t=a(s),o=t(s);return{c(){o.c(),e=P()},m(l,n){o.m(l,n),_(l,e,n)},p(l,[n]){t===(t=a(l))&&o?o.p(l,n):(o.d(1),o=t(l),o&&(o.c(),o.m(e.parentNode,e)))},i:M,o:M,d(l){o.d(l),l&&d(e)}}}function $(s,e,a){let{value:t=[]}=e,{show_legend:o=!1}=e,{color_map:l={}}=e,{style:n=""}=e,i;function r(f){if(!i){var p=document.createElement("canvas");i=p.getContext("2d")}i.fillStyle=f,i.fillRect(0,0,1,1);const[h,y,J,K]=i.getImageData(0,0,1,1).data;return i.clearRect(0,0,1,1),`rgba(${h}, ${y}, ${J}, ${255/K})`}let c;return l===null&&(l={}),s.$$set=f=>{"value"in f&&a(1,t=f.value),"show_legend"in f&&a(2,o=f.show_legend),"color_map"in f&&a(0,l=f.color_map),"style"in f&&a(4,n=f.style)},s.$$.update=()=>{if(s.$$.dirty&3){let f=function(){for(const p in l)l[p].trim().startsWith("rgba")?(a(0,l),a(1,t)):a(0,l[p]=r(l[p]),l)};if(t.length>0){for(let[p,h]of t)if(h!==null)if(typeof h=="string"){if(a(3,c="categories"),!(h in l)){let y=X(Object.keys(l).length);a(0,l[h]=y,l)}}else a(3,c="scores")}f()}},[l,t,o,c,n]}class ee extends A{constructor(e){super(),F(this,e,$,x,G,{value:1,show_legend:2,color_map:0,style:4})}}function te(s){let e,a,t,o;return e=new V({props:{tracked_status:s[4]}}),t=new ee({props:{value:s[0],style:s[1],show_legend:s[2],color_map:s[3]}}),{c(){j(e.$$.fragment),a=b(),j(t.$$.fragment)},m(l,n){S(e,l,n),_(l,a,n),S(t,l,n),o=!0},p(l,n){const i={};n&16&&(i.tracked_status=l[4]),e.$set(i);const r={};n&1&&(r.value=l[0]),n&2&&(r.style=l[1]),n&4&&(r.show_legend=l[2]),n&8&&(r.color_map=l[3]),t.$set(r)},i(l){o||(T(e.$$.fragment,l),T(t.$$.fragment,l),o=!0)},o(l){C(e.$$.fragment,l),C(t.$$.fragment,l),o=!1},d(l){H(e,l),l&&d(a),H(t,l)}}}function le(s){let e,a;return e=new U({props:{$$slots:{default:[te]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},m(t,o){S(e,t,o),a=!0},p(t,[o]){const l={};o&159&&(l.$$scope={dirty:o,ctx:t}),e.$set(l)},i(t){a||(T(e.$$.fragment,t),a=!0)},o(t){C(e.$$.fragment,t),a=!1},d(t){H(e,t)}}}function ne(s,e,a){let{value:t}=e,{default_value:o}=e,{style:l=""}=e,{show_legend:n}=e,{color_map:i={}}=e,{loading_status:r}=e;const c=Q();return o&&(t=o),s.$$set=f=>{"value"in f&&a(0,t=f.value),"default_value"in f&&a(5,o=f.default_value),"style"in f&&a(1,l=f.style),"show_legend"in f&&a(2,n=f.show_legend),"color_map"in f&&a(3,i=f.color_map),"loading_status"in f&&a(4,r=f.loading_status)},s.$$.update=()=>{s.$$.dirty&1&&c("change")},[t,l,n,i,r,o]}class ae extends A{constructor(e){super(),F(this,e,ne,le,G,{value:0,default_value:5,style:1,show_legend:2,color_map:3,loading_status:4})}}var ie=ae;const fe=["static"];export{ie as Component,fe as modes};
